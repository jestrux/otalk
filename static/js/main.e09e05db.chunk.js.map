{"version":3,"sources":["Notifications/NotificationItem.jsx","Notifications/index.jsx","Login/index.jsx","constants.js","Popups/index.jsx","components/Image.jsx","Home/PostList/PostItem/PostMedia/PostImages.jsx","Home/PostList/PostItem/PostMedia/PostVideo.jsx","Home/PostList/PostItem/PostMedia/index.jsx","Utils/index.jsx","Home/PostList/PostItem/PostComments/PostComment.jsx","Home/PostList/PostItem/PostComments/index.jsx","Home/PostList/PostItem/PostCommenter/index.jsx","Home/PostList/PostItem/index.jsx","Home/PostList/NewPost/NewPostImage/index.jsx","Home/PostList/NewPost/NewPostVideo/index.jsx","Home/PostList/NewPost/NewPostMedia.jsx","Home/PostList/NewPost/NewPostMobile/NewPostCamera/Camera.jsx","Home/PostList/NewPost/NewPostMobile/NewPostCamera/index.jsx","Home/PostList/NewPost/NewPostMobile/index.jsx","Home/PostList/NewPost/index.jsx","components/Loader/index.jsx","Home/PostList/EditPost/index.jsx","Home/PostList/PostItem/PostCommentsMobile/index.jsx","Home/PostList/index.jsx","components/Header/index.jsx","components/OtPage/index.jsx","components/Menu/index.jsx","Woza/WozaPreviewer/WozaPreviewItem.jsx","Home/index.jsx","Woza/WozaItem/WozaImages/index.jsx","Woza/WozaItem/WozaResponder/index.jsx","Woza/WozaItem/index.jsx","Woza/WozaPreviewer/index.jsx","Woza/WozaList/index.jsx","Woza/index.jsx","Discover/index.jsx","Ochat/index.jsx","OtherApps/index.jsx","UserProfile/index.jsx","components/BottomSheet/index.jsx","App/MobileNav/index.jsx","App/index.jsx","serviceWorker.js","index.js","Login/logo.png","components/logo.png","OtherApps/icons/findit.png","OtherApps/icons/oclass.png","OtherApps/icons/odrive.png","OtherApps/icons/ojob.png"],"names":["NotificationItem","props","notification","message","Object","objectWithoutProperties","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","_len","arguments","length","rest","Array","_key","options","CustomEvent","detail","notify","event","document","dispatchEvent","Notifications","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","notifications","showNotification","_notification","setState","toConsumableArray","concat","setTimeout","_notifications","filter","n","id","wrapper","React","createRef","_this2","addEventListener","e","Math","random","toString","substr","reverse","map","i","Notifications_NotificationItem","key","Component","Login","username","password","inputChanged","defineProperty","target","name","value","_this$state","isValid","autoComplete","src","logo","height","alt","autoFocus","required","type","onChange","htmlFor","onClick","onLogin","API_BASE_URL","MOBILE_WIDTH","confirm","title","action","callback","window","Image","visible","handleImageInView","isIntersecting","rootMargin","_this$props","style","Fragment","es","PostImage","images","templateClass","extras","shown_image_count","slice","components_Image","photo","_parseYoutubeURL","str","test","match","PostVideo","video","is_youtube_url","embed","url","_getEmbedUrl","frameBorder","allow","allowFullScreen","controls","PostMedia","videos","PostImages","PostMedia_PostVideo","FavoritedIcon","fill","viewBox","d","FavoriteIcon","FavToggle","faved","Utils_FavoritedIcon","Utils_FavoriteIcon","PostComment","comment","publisher","published_at","author","content","is_liked","_ref","dp","display_name","indexOf","onToggleLiked","Utils_FavToggle","PostComments","comments","fetched","loading","index","PostComments_PostComment","onToggleCommentLiked","PostCommenter","handleChange","handleKeyup","sendComment","addQuickEmoji","innerText","inputField","current","textarea","focus","JSON","parse","stringify","replace","onNewComment","animate_icon","autofocus","user","quickemojis","animation_duration","role","aria-label","react_autosize_textarea_lib_default","ref","placeholder","rows","onKeyUp","onFocused","lib","width","duration","rotation","PostItem","post","fetching_comments","total_likes","total_comments","total_commenets","owned","like_text","comment_text","onViewUser","xmlns","onEditPost","onDeletePost","PostItem_PostMedia","onShowComments","PostItem_PostComments","PostItem_PostCommenter","console","log","innerWidth","NewPostImage","was_setup","handleIncomingImage","image","file","processImage","uploadImage","_callee","worker","regenerator_default","wrap","_context","prev","next","workerize","load","sent","onImageLoaded","stop","params","formData","FormData","append","config","headers","content-type","token","fileUpload","then","_ref3","response","data","onImageUploaded","catch","error","err","request","is_temp","onRemoveImage","NewPostVideo","videoUpload","onRemoveVideo","NewPostMedia","readonly","NewPost_NewPostVideo","onVideoUploaded","res","NewPost_NewPostImage","new_image","Camera","facingMode","setup","audio","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","getVideoTracks","mediaStreamTrack","ImageCapture","takePhoto","_this3","children","defaultProps","NewPostCamera","takePicture","camera","capture","blob","URL","createObjectURL","img","onload","revokeObjectURL","switchCameraMode","switchMode","handleRepeat","NewPostCamera_Camera","cam","onCancel","onAddPicture","NewPostMobile","takingPicture","closeCamera","onCloseCamera","handleAddPicture","picture","posting","editting","dist_default","enabled","NewPostCamera_NewPostCamera","onBackClicked","onSubmitClicked","NewPost_NewPostMedia","onFilesPicked","onOpenCamera","MAX_IMAGE_COUNT","NewPost","creatingOnMobile","dragover","focused","post_id","FileDragHover","stopPropagation","preventDefault","hovering","FileSelectHandler","fromDragNDrop","undefined","files","dataTransfer","processFiles","openCamera","history","pushState","back","imageLoaded","new_images","splice","imageUpLoaded","videoUpLoaded","removeVideo","removeImage","pic","lastModifiedDate","Date","from","f","diff","forEach","fname","trim","setFocus","fromClick","openMobileCreate","creating","closeMobileCreate","onCancelEditting","video_index","submitClicked","sendPost","aPost","asyncToGenerator","mark","form_data","set","_ref2","status","onNewPost","_this$props$post","_isMounted","hash","location","saving","NewPost_NewPostMobile","onFocus","onBlur","cx","cy","r","Loader","thin","EditPost","PostList_NewPost","PostCommentsMobile","toggleCommentLiked","isLiked","comment_id","axios","get","onToggleCommentLike","addComment","new_comment_index","push","method","fetchComments","_this$props2","commentingOnMobile","onCancelCommenting","_this$props3","PostList","initial_fetch","fetching","page","postToEdit","postToComment","posts","fetchUserPosts","comment_index","new_posts","setCommentLiked","like_state","toggleLiked","newPost","unshift","objectSpread","_ref4","addCommentToPost","showComments","commentOnMobile","cancelCommenting","editPost","savePost","cancelEditPost","deletePost","accepted","_ref5","handleReachedBottom","scrolled","root","PostList_EditPost","PostItem_PostCommentsMobile","PostList_PostItem","components_Loader","Header","noborder","center","OtPage","bg","padding","full","backgroundColor","paddingTop","Menu","Options","Option","onSelected","Trigger","fullClassName","slideshow_interval","Home","onViewProfile","onLogout","components_OtPage","components_Header","components_Menu","Home_PostList","WozaImages","curidx","idx","zIndex","WozaResponder","show_responses","handleEmojiClicked","onResponse","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","x1","y1","x2","y2","woza","curImageIndex","quickresponder","WozaItem_WozaImages","WozaItem_WozaResponder","WozaPreviewItem","curIndex","active","startSlideshow","setInterval","clearInterval","onFinish","WozaItem","WozaPreviewer","wozas","previewIndex","handlePreviewNext","translate","transform","WozaPreviewer_WozaPreviewItem","WozaList","previewing","fetchUserWozas","_","previewWoza","onPreview","mode","Woza_WozaPreviewer","Woza","enterPreviewing","wozaPreviewing","handleSwitchMode","Woza_WozaList","Discover","searching","people","startSearching","discoverSearching","fetchPeople","centers","person","Ochat","friends","fetchFriends","friend","OtherApps","href","rel","odrive","findit","oclass","ojob","UserProfile","profileLoaded","postsLoaded","fetchUserProfile","sessionUser","user_id","onPostsLoaded","followers","following","BottomSheet","closing","fixed","handleIntersection","handleClose","closeBottomSheet","onClose","contentWrapper","scrollTop","innerHeight","contentLoaded","peekHeight","tx","MobileNav","onNavigateTo","x","y","App","profileUser","userProfilePostsLoaded","user_fetched","fetchUser","session_user","localStorage","getItem","handleProfilePostsLoaded","login","result","setItem","logout","removeItem","closeProfileUser","viewProfileUser","paramUser","setPage","updateUrl","onpopstate","pathname","substring","user_logged_in","context","src_Notifications","src_Login","src_Home","src_Woza","src_Discover","src_Ochat","src_OtherApps","components_BottomSheet","src_UserProfile","App_MobileNav","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","src_App","getElementById","process","origin","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","module","exports","__webpack_require__","p"],"mappings":"8rBAUeA,EARU,SAACC,GAAU,IACxBC,EAAiBD,EAAjBC,aACAC,EAAwBD,EAAxBC,QAFwBC,OAAAC,EAAA,EAAAD,CAEAF,EAFA,aAGhC,OACII,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaC,wBAAyB,CAAEC,OAAQR,MCD1DD,EAAe,SAACC,GAAqB,QAAAS,EAAAC,UAAAC,OAATC,EAAS,IAAAC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAATF,EAASE,EAAA,GAAAJ,UAAAI,GAC9C,IAAMC,EAAUH,GAAQA,EAAKD,OAASC,EAAK,GAAK,GAChD,OAAO,IAAII,YAAY,kBAAmB,CAAEC,OAAQ,CAAEjB,UAASe,QAASA,MAG/DG,EAAS,SAAEC,GACpBC,SAASC,cAAcF,IAsCZG,cAjCX,SAAAA,EAAYxB,GAAM,IAAAyB,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAAH,IACdC,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAAqB,GAAAM,KAAAH,KAAM3B,KAFV+B,MAAQ,CAAEC,cAAe,IACPP,EAclBQ,iBAAmB,SAACC,GAChBT,EAAKU,SAAS,CAAEH,cAAc7B,OAAAiC,EAAA,EAAAjC,CAAMsB,EAAKM,MAAMC,eAAlBK,OAAA,CAAiCH,KAAkB,WAC5EI,WAAW,WACP,IAAMC,EAAiBpC,OAAAiC,EAAA,EAAAjC,CAAIsB,EAAKM,MAAMC,eAAeQ,OAAQ,SAAEC,GAAF,OAASA,EAAEC,KAAOR,EAAcQ,KAC7FjB,EAAKU,SAAS,CAAEH,cAAeO,KAChC,QAjBPd,EAAKkB,QAAUC,IAAMC,YAFPpB,mFAKC,IAAAqB,EAAAnB,KACfL,SAASyB,iBAAiB,kBAAmB,SAACC,GAC1C,IAAMd,EAAgBc,EAAE7B,OACxBe,EAAcQ,GAAK,YAAcO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAEtEN,EAAKb,iBAAiBC,KACvB,oCAYE,IACGF,EAAkBL,KAAKI,MAAvBC,cACR,OACI3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACTwB,EAAcqB,UAAUC,IAAK,SAACb,EAAGc,GAAJ,OAAUlD,EAAAC,EAAAC,cAACiD,EAAD,CAAkBC,IAAKF,EAAGtD,aAAcwC,cA7BrEG,IAAMc,4CCiCnBC,6MAzCX5B,MAAQ,CAAE6B,SAAU,GAAIC,SAAU,MAElCC,aAAe,SAACd,GACZvB,EAAKU,SAALhC,OAAA4D,EAAA,EAAA5D,CAAA,GAAgB6C,EAAEgB,OAAOC,KAAQjB,EAAEgB,OAAOE,iFAGrC,IAAApB,EAAAnB,KAAAwC,EAC0BxC,KAAKI,MAA5B6B,EADHO,EACGP,SAAUC,EADbM,EACaN,SACZO,EAAUR,EAAS/C,OAAS,GAAKgD,EAAShD,OAAS,EACzD,OACIR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBAAgB6D,aAAa,OACzChE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKC,IAAMC,OAAO,OAAOC,IAAI,KADtC,eAKApE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,SAAOmE,WAAS,EAACL,aAAa,MAAM3B,GAAG,WAAWlC,UAAYoD,EAAS/C,OAAS,QAAU,GACtF8D,UAAQ,EAACC,KAAK,OAAOX,KAAK,WAC1BC,MAAON,EACPiB,SAAUlD,KAAKmC,eACnBzD,EAAAC,EAAAC,cAAA,SAAOuE,QAAQ,YAAf,aAGJzE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,SAAO8D,aAAa,MAAM3B,GAAG,WAAWlC,UAAYqD,EAAShD,OAAS,QAAU,GAC5E8D,UAAQ,EAACC,KAAK,WAAWX,KAAK,WAC9BC,MAAOL,EACPgB,SAAUlD,KAAKmC,eACnBzD,EAAAC,EAAAC,cAAA,SAAOuE,QAAQ,YAAf,aAGJzE,EAAAC,EAAAC,cAAA,UAAQqE,KAAK,SAASpE,UAAY,2BAA+B4D,EAAuB,GAAb,YACvEW,QAAS,kBAAMjC,EAAK9C,MAAMgF,QAAQ,CAACpB,WAAUC,eADjD,kBAlCAjB,IAAMc,4CCJbuB,SAAe,qCACfC,EAAe,ICEfC,SAAU,SAAEC,EAAOlF,EAASmF,EAAQC,GAC7CA,EAASC,OAAOJ,QAAQjF,MC0BbsF,0NA3BXzD,MAAQ,CAAE0D,SAAS,EAAOnB,IAAK,QAE/BoB,kBAAoB,SAAC1C,GACdA,EAAE2C,gBAEDlE,EAAKU,SAAS,CAACsD,SAAS,EAAMnB,IAAK7C,EAAKzB,MAAMsE,+EAKlD,IAAMrD,EAAU,CACZ4D,SAAUlD,KAAK+D,kBACfE,WAAU,SAENtB,EAAQ3C,KAAKI,MAAbuC,IALJuB,EAMyBlE,KAAK3B,MAA1BQ,EANJqF,EAMIrF,UAAWsF,EANfD,EAMeC,MAEnB,OACIzF,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACI1F,EAAAC,EAAAC,cAACyF,EAAA,EAAc/E,EACXZ,EAAAC,EAAAC,cAAA,OAAKuF,MAAOA,EAAOtF,UAAWA,EAAW8D,IAAKA,EAAKG,IAAI,cArBvD7B,IAAMc,YC+CXuC,EA/CG,SAAEjG,GAAW,IACnBkG,EAAWlG,EAAXkG,OACJC,EAAgB,GAChBC,EAAS,GAEb,GAAGF,EAAOrF,OAAS,EAAE,CACjB,OAAQqF,EAAOrF,QACX,KAAK,EACDsF,EAAgB,MAChB,MACJ,KAAK,EACDA,EAAgB,QAChB,MACJ,KAAK,EACDA,EAAgB,OAChB,MACJ,KAAK,EACDA,EAAgB,OAChB,MAEJ,QACIA,EAAgB,OAGxBA,GAAiB,cAEdD,EAAOrF,OAAS,IACfsF,GAAiB,aAErBC,EAASF,EAAOrF,OAAS,EAAIqF,EAAOrF,OAAS,EAAI,GAGrD,IAAMwF,EAAoBH,EAAOrF,OAAS,EAAI,EAAIqF,EAAOrF,OAEzD,OACIR,EAAAC,EAAAC,cAAA,OAAKC,UAAW,kBAAoB2F,EAAgBC,OAAQA,GAEpDF,EAAOI,MAAM,EAAGD,GAAmB/C,IAAK,SAAAC,GAAC,OACrClD,EAAAC,EAAAC,cAAA,OAAKkD,IAAKF,EAAEb,GAAIlC,UAAU,iBACtBH,EAAAC,EAAAC,cAACgG,EAAD,CAAOjC,IAAKf,EAAEiD,aCxC/B,SAASC,EAAiBC,GAG7B,GAFc,8EAEFC,KAAKD,GAEV,CAEH,OAAOA,EAAIE,MADD,oEAFV,OAAO,EAWf,IA0BeC,EA1BG,SAAE7G,GAAW,IACnB8G,EAAU9G,EAAV8G,MACFC,IAAiBD,GAAQL,EAAiBK,EAAMA,OAGlDE,EAAQ,GAOZ,OALGD,IAECC,EAbD,SAAsBC,GACzB,uCAAA5E,OAAwC4E,EAAxC,yBAYYC,CADFH,EAAe,KAKrB1G,EAAAC,EAAAC,cAAA,OAAKC,UAAW,kBAAqBuG,EAAiB,cAAgB,KAChEA,GAAkB1G,EAAAC,EAAAC,cAAA,UAAQ6E,MAAM,aAAad,IAAK0C,EAAOG,YAAY,IAAIC,MAAM,4BAA4BC,iBAAe,IAC1HP,IAAUC,GAEJ1G,EAAAC,EAAAC,cAAA,SAAO+G,UAAQ,GACXjH,EAAAC,EAAAC,cAAA,UAAQ+D,IAAKwC,EAAMA,WCf5BS,EAbG,SAACvH,GAAU,IACjBkG,EAAmBlG,EAAnBkG,OAAQsB,EAAWxH,EAAXwH,OAEhB,OACInH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAGT0F,EAAOrF,OAAS,GAAMR,EAAAC,EAAAC,cAACkH,EAAD,CAAYvB,OAAQA,KACzCA,EAAOrF,QAAU2G,EAAO3G,OAAS,GAAOR,EAAAC,EAAAC,cAACmH,EAAD,CAAWZ,MAAOU,EAAO,OCbnEG,SAAgB,WACzB,OAAQtH,EAAAC,EAAAC,cAAA,OAAKqH,KAAK,UAAUpH,UAAU,oBAAoBqH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,gBAAgBF,KAAK,SAAQvH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,sLAGlHC,EAAe,WACxB,OAAQ1H,EAAAC,EAAAC,cAAA,OAAKqH,KAAK,UAAUC,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,gBAAgBF,KAAK,SAAQvH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,8VAGpFE,EAAY,SAAChI,GACtB,OACIK,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KAAkB/F,EAAMiI,MAAQ5H,EAAAC,EAAAC,cAAC2H,EAAD,CAAezE,IAAI,mBAAsBpD,EAAAC,EAAAC,cAAC4H,EAAD,CAAc1E,IAAI,oBCapF2E,EAtBK,SAAEpI,GAAW,IACrBqI,EAAYrI,EAAZqI,QACA3F,EAA2D2F,EAA3D3F,GAAkB4F,GAAyCD,EAAvDE,aAAuDF,EAAzCC,WAAWE,EAA8BH,EAA9BG,OAAQC,EAAsBJ,EAAtBI,QAASC,EAAaL,EAAbK,SAFzBC,EAGAL,GAAaE,EAAlCI,EAHqBD,EAGrBC,GAAIC,EAHiBF,EAGjBE,aAEZ,OACIxI,EAAAC,EAAAC,cAAA,OAAKC,UAAW,4BAAuE,IAAzCkC,EAAGS,WAAW2F,QAAQ,cAAuB,OAAS,KAChGzI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKsE,EAAInE,IAAI,MAEtBpE,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAAA,cAAUsI,GADd,OAEIxI,EAAAC,EAAAC,cAAA,QAAME,wBAAyB,CAAEC,OAAQ+H,MAG7CpI,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iCAAiCuE,QAAU/E,EAAM+I,eAC7D1I,EAAAC,EAAAC,cAACyI,EAAD,CAAWf,MAAOS,OCiBrBO,mLA9BF,IAAAxH,EAAAE,KAAAkE,EACkClE,KAAK3B,MAA3BkJ,GADZrD,EACGsD,QADHtD,EACYqD,UAAUE,EADtBvD,EACsBuD,QAE3B,OACI/I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACV0I,EAASrI,OAAS,GAChBqI,EAAS5F,IAAK,SAAC+E,EAASgB,GAAV,OACThJ,EAAAC,EAAAC,cAAC+I,EAAD,CACI7F,IAAK4E,EAAQ3F,GACb2F,QAASA,EACTU,cAAe,kBAAMtH,EAAKzB,MAAMuJ,qBAAqBF,QAI/DD,GACE/I,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBACV0I,EAASrI,OAAS,EAAI,4BAA8B,yBAI3DuI,GAAWF,EAASrI,OAAS,GAC5BR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBAAhB,uBAtBOoC,IAAMc,oCC6GlB8F,sBA1GX,SAAAA,EAAYxJ,GAAO,IAAAyB,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAA6H,IACf/H,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAAqJ,GAAA1H,KAAAH,KAAM3B,KAWVyJ,aAAe,SAACpI,GACZI,EAAKU,SAAS,CAACkG,QAAShH,EAAM2C,OAAOE,SAbtBzC,EAsBnBiI,YAAc,SAACrI,GACM,UAAdA,EAAMoC,KAAmBhC,EAAKM,MAAMsG,QAAQxH,QAC3CY,EAAKkI,eAxBMlI,EA2BnBmI,cAAgB,SAAC5G,GACbvB,EAAKU,SAAS,CAAEkG,QAAS5G,EAAKM,MAAMsG,QAAUrF,EAAEgB,OAAO6F,YACvDpI,EAAKqI,WAAWC,QAAQC,SAASC,SA7BlBxI,EAgCnBkI,YAAc,WACV,IACMtB,EADa6B,KAAKC,MAAMD,KAAKE,UAAU3I,EAAKM,QACvBsG,QAAQgC,QAAQ,eAAiB,aAEzDhC,EAAQxH,SACPY,EAAKzB,MAAMsK,aAAajC,GACxB5G,EAAKU,SAAS,CAACkG,QAAU,OApC7B5G,EAAKqI,WAAalH,IAAMC,YACxBpB,EAAKM,MAAQ,CAAEsG,QAAS,GAAIkC,cAAc,GAH3B9I,mFAOZE,KAAK3B,MAAMwK,WAAa7I,KAAKmI,YAC5BnI,KAAKmI,WAAWC,QAAQC,SAASC,yCAkCjC,IAAA9F,EAC8BxC,KAAKI,MAA/BsG,EADJlE,EACIkE,QAASkC,EADbpG,EACaoG,aADb1E,EAGiClE,KAAK3B,MAAlCyK,EAHJ5E,EAGI4E,KAAMxC,EAHVpC,EAGUoC,MAAOyC,EAHjB7E,EAGiB6E,YAEfC,EAAqBJ,EAAe,IAAM,EAEhD,OACIlK,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACM2E,GACErK,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,cAAclC,UAAU,UAC5BH,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,SAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,OAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,UAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,WAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,QAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,QAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,SAAzD,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKiI,cAAegB,KAAK,MAAMC,aAAW,YAAzD,iBAGRxK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKmG,EAAK7B,GAAInE,IAAI,MAG3BpE,EAAAC,EAAAC,cAACuK,EAAAxK,EAAD,CACIyK,IAAKpJ,KAAKmI,WACVkB,YAAY,kBACZxK,UAAU,aAAayK,KAAM,EAC7BpG,SAAUlD,KAAK8H,aACfyB,QAASvJ,KAAK+H,YACd3E,QAASpD,KAAK3B,MAAMmL,UACpBjH,MAAOmE,IAeXhI,EAAAC,EAAAC,cAAA,OAAKC,UAAW,uCAA0C6H,EAAQxH,QAAUc,KAAK3B,MAAM+I,cAAiB,YAAc,KAClH1I,EAAAC,EAAAC,cAAA,UAAQC,UAAY,gBAAoB6H,EAAQxH,OAAsB,GAAb,YAAoBkE,QAAUpD,KAAKgI,aAA5F,QAGAtJ,EAAAC,EAAAC,cAAA,UAAQC,UAAU,8BAA8BuE,QAAUpD,KAAK3B,MAAM+I,eACjE1I,EAAAC,EAAAC,cAAC6K,EAAA,aAAD,CAAcC,MAAO,GAAI7G,OAAQ,GAAI8G,SAAUX,EAAoBY,SAAU,QACvEtD,EAAQ5H,EAAAC,EAAAC,cAAC2H,EAAD,CAAezE,IAAI,mBAAsBpD,EAAAC,EAAAC,cAAC4H,EAAD,CAAc1E,IAAI,8BAjGzEb,IAAMc,YC6FnB8H,EA1FE,SAACxL,GAAU,IAChByK,EAAezK,EAAfyK,KAAMgB,EAASzL,EAATyL,KACNC,EAA0HD,EAA1HC,kBAAmBhD,EAAuG+C,EAAvG/C,SAAUJ,EAA6FmD,EAA7FnD,UAAWC,EAAkFkD,EAAlFlD,aAAcE,EAAoEgD,EAApEhD,QAASvC,EAA2DuF,EAA3DvF,OAAQsB,EAAmDiE,EAAnDjE,OAAQ0B,EAA2CuC,EAA3CvC,SAAUyC,EAAiCF,EAAjCE,YAC3FC,EAD4HH,EAApBI,gBAExGC,EAAQxD,EAAU5F,KAAO+H,EAAK/H,GAEhCqJ,EAAYJ,EAAc,QAC9BI,GAA+B,IAAhBJ,EAAqB,IAAM,GAE1C,IAAIK,EAAeJ,EAAiB,WAcpC,OAbAI,GAAqC,IAAnBJ,EAAwB,IAAM,GAc5CvL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQuE,QAAS/E,EAAMiM,YAClC5L,EAAAC,EAAAC,cAAA,OAAK+D,IAAKgE,EAAUM,GAAInE,IAAI,MAGhCpE,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAqBuE,QAAS/E,EAAMiM,YAC9C3D,EAAUO,cAEhBxI,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBACV+H,IAYVlI,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAEdsL,GACEzL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,qCACdH,EAAAC,EAAAC,cAAA,OAAK2L,MAAM,6BAA6Bb,MAAM,KAAK7G,OAAO,KAAKqD,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,gBAAgBF,KAAK,SAAQvH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,wJAGpIzH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAA,UAAQwE,QAAS/E,EAAMmM,WAAY3L,UAAU,eAA7C,QACAH,EAAAC,EAAAC,cAAA,UAAQwE,QAAS/E,EAAMoM,aAAc5L,UAAU,eAA/C,aAMhBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBACPiI,IAGHvC,EAAOrF,OAAS,GAAK2G,EAAO3G,OAAS,IAAOR,EAAAC,EAAAC,cAAC8L,EAAD,CAAWnG,OAAQA,EAAQsB,OAAQA,IAElFnH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,aAASwL,GACT1L,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,SAAOC,UAAWoL,EAAiB,GAAKA,IAAmB1C,EAASrI,OAAS,YAAc,GACvFkE,QA7DhB,WACOmE,GAAY0C,EAAiB,GAAKA,IAAmB1C,EAASrI,QAC7Db,EAAMsM,mBA2DmCN,KAGrC9C,GAAYA,EAASrI,OAAS,GAAM6K,IACpCrL,EAAAC,EAAAC,cAACgM,EAAD,CAAcrD,SAAUA,EAAUE,QAASsC,EACvCnC,qBAAsBvJ,EAAMuJ,uBAGpClJ,EAAAC,EAAAC,cAACiM,EAAD,CACI/B,KAAMA,EAAMxC,MAAOS,EACnBK,cAAgB/I,EAAM+I,cACtBoC,UAnEZ,WACIsB,QAAQC,IAAI,cAAenH,OAAOoH,YAC/BpH,OAAOoH,WAAazH,GACnBlF,EAAMsM,kBAiEFhC,aAAiBtK,EAAMsK,6ECexBsC,8MAvGX7K,MAAQ,CAAE8K,WAAW,KAgBrBC,oBAAsB,SAAC9M,GAAU,IACrB+M,GAAU/M,GAASyB,EAAKzB,OAAxB+M,MACAC,EAAcD,EAAdC,KAAM1I,EAAQyI,EAARzI,KAEV7C,EAAKM,MAAM8K,WAAaE,IACxBtL,EAAKU,SAAS,CAAE4K,QAAOF,WAAW,IAE/BG,GACCvL,EAAKwL,aAAaD,GAClBvL,EAAKyL,YAAYF,IAMZ1I,GACL7C,EAAKyL,YAAY5I,OAK7B2I,mDAAe,SAAAE,EAAQJ,GAAR,IAAAK,EAAA9I,EAAA,OAAA+I,EAAA/M,EAAAgN,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACPL,EAASM,YAAS,yXADXH,EAAAE,KAAA,EAYOL,EAAOO,KAAKZ,GAZnB,OAYLzI,EAZKiJ,EAAAK,KAaXnM,EAAKzB,MAAM6N,cAAcvJ,GAbd,wBAAAiJ,EAAAO,SAAAX,EAAAxL,kJA5BXA,KAAKmL,wEAGiB9M,GACtB2B,KAAKmL,oBAAoB9M,sCAwClBiH,EAAK+F,EAAM/I,EAAM8J,GACxB,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAOjK,EAAM+I,GACtB,IAAMmB,EAAS,CACXC,QAAS,CACLC,eAAgB,uBAEpBN,UAEJ,OAAQtC,eAAKxE,EAAK+G,EAAUG,uCAGpBnB,GAAK,IAAAlK,EAAAnB,KACPoM,EAAS,CAAEO,MAAO3M,KAAK3B,MAAMsO,OACnC3M,KAAK4M,WAAWtJ,EAAe,uBAAwB+H,EAAM,QAASe,GACjES,KAAK,SAAAC,GAAY,IACRC,EADQD,EAAVE,KACkBzI,OAAO,GAC7BuG,QAAQC,IAAI,wBAAyBgC,GACrC5L,EAAK9C,MAAM4O,gBAAiBF,KAE/BG,MAAM,SAACC,GACJ,IAAIC,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,qBAAsBC,sCAIvC,IACGhC,EAAUpL,KAAK3B,MAAf+M,MACArK,EAA4BqK,EAA5BrK,GAAI4B,EAAwByI,EAAxBzI,IAAKkC,EAAmBuG,EAAnBvG,MAAO4C,EAAY2D,EAAZ3D,QAClB6F,GAAmD,IAAzCvM,EAAGS,WAAW2F,QAAQ,cAEtC,OACIzI,EAAAC,EAAAC,cAAA,OAAKC,UAAW,sBAAyB4I,EAAU,UAAY,KAAS6F,EAAU,WAAa,KAC3F5O,EAAAC,EAAAC,cAAA,OAAK+D,IAAKA,GAAOkC,EAAO/B,IAAI,KAC5BpE,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAASpD,KAAK3B,MAAMkP,eAClD7O,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,oHAjG1BlF,IAAMc,WC8DlByL,8MA7DXpN,MAAQ,CAAE8K,WAAW,4FAEK7M,GACJA,EAAV8G,0CAQAG,EAAKH,EAAOiH,GACpB,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASpH,GACzB,IAAMqH,EAAS,CACXC,QAAS,CACLC,eAAgB,uBAEpBN,UAEJ,OAAQtC,eAAKxE,EAAK+G,EAAUG,uCAGpBrH,GACR,IAAMiH,EAAS,CAAEO,MAAO3M,KAAK3B,MAAMsO,OACnC3M,KAAKyN,YAAYnK,EAAe,uBAAwB6B,EAAOiH,GAC1DS,KAAK,SAAA7F,GAAY,IAAVgG,EAAUhG,EAAVgG,KAEJlC,QAAQC,IAAI,wBAAyBiC,KAGxCE,MAAM,SAACC,GACJ,IAAIC,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,qBAAsBC,sCAIvC,IACGjI,EAAUnF,KAAK3B,MAAf8G,MACIsC,GAAYtC,EAAhBpE,GAAgBoE,EAAZsC,SAGZ,OACI/I,EAAAC,EAAAC,cAAA,OAAKC,UAAW,sBAAyB4I,EAAU,UAAY,KAC3D/I,EAAAC,EAAAC,cAACmH,EAAD,CAAWZ,MAAOA,IAClBzG,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAASpD,KAAK3B,MAAMqP,eAClDhP,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,oHAvD1BlF,IAAMc,WC0BlB4L,GA3BM,SAAEtP,GAAW,IACtBuP,EAAoCvP,EAApCuP,SAAUrJ,EAA0BlG,EAA1BkG,OAAQsB,EAAkBxH,EAAlBwH,OAAQ8G,EAAUtO,EAAVsO,MAC5BxH,EAAQU,GAAUA,EAAO3G,OAAS2G,EAAO,GAAK,KAEpD,OACInH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACTgH,GAAUA,EAAO3G,OAAS,GACxBR,EAAAC,EAAAC,cAACiP,GAAD,CAAc1I,MAAOA,EACjBwH,MAAOA,EACPmB,gBAAkB,SAAEC,GAAeH,GAAUvP,EAAMyP,gBAAgBC,IACnEL,cAAgBrP,EAAMqP,gBAE5BnJ,GAAUA,EAAOrF,OAAS,GACxBR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACT0F,EAAO5C,IAAK,SAACyJ,EAAO1D,GAAR,OACVhJ,EAAAC,EAAAC,cAACoP,GAAD,CAAclM,IAAM4F,EAAQ0D,MAAOA,EAC/BuB,MAAOA,EACPT,cAAgB,SAACvJ,GAAciL,GAAUvP,EAAM6N,cAAcd,EAAO1D,EAAO/E,IAC3EsK,gBAAkB,SAACgB,GAAoBL,GAAUvP,EAAM4O,gBAAgB7B,EAAO1D,EAAOuG,IACrFV,cAAgB,kBAAOlP,EAAMkP,cAAc7F,WCrBjEwG,8MACJ9N,MAAQ,CAAE+N,WAAY,UAStBC,MAAQ,WAAM,IAAAlK,EACapE,EAAKzB,MAAfgQ,GADHnK,EACJiB,MADIjB,EACGmK,OACXC,UAAUC,cACZD,UAAUC,aAETC,aAAa,CAAErJ,MAAO,CAAEgJ,WAAYrO,EAAKM,MAAM+N,YAAcE,UAC7DxB,KAAK,SAAC4B,GACL3O,EAAKU,SAAS,CAAEiO,gBAChB3O,EAAKqF,MAAMuJ,UAAYD,EACvB3O,EAAKqF,MAAMwJ,SAEZzB,MAAM,SAAAC,GAAK,OAAIA,yFAlBlBnN,KAAKoO,uDAILpO,KAAKI,MAAMqO,YAAYG,iBAAiB,GAAGzC,yCAmB3C,IAAM0C,EAAmB7O,KAAKI,MAAMqO,YAAYG,iBAAiB,GAGjE,OAFqB,IAAIhL,OAAOkL,aAAaD,GAEzBE,iDAGT,IAAA5N,EAAAnB,KACLmO,EAAuC,gBAA1BnO,KAAKI,MAAM+N,WAA+B,OAAS,cACtEnO,KAAKQ,SAAS,CAAC2N,cAAa,WAC1BhN,EAAKf,MAAMqO,YAAYG,iBAAiB,GAAGzC,OAC3ChL,EAAKX,SAAS,CAAEiO,YAAa,OAE7B9N,WAAW,WACTQ,EAAKiN,6CAKF,IAAAY,EAAAhP,KACP,OACEtB,EAAAC,EAAAC,cAAA,OAAKuF,MAAOnE,KAAK3B,MAAM8F,OACnBnE,KAAK3B,MAAM4Q,SACbvQ,EAAAC,EAAAC,cAAA,SAAOwK,IAAK,SAACjE,GAAY6J,EAAK7J,MAAQA,aAhDzBpD,aA4DrBmM,GAAOgB,aAAe,CACpBb,OAAO,EACPlJ,OAAO,EACPhB,MAAO,GACP8K,SAAU,MAGGf,UClEMiB,8MACnB/O,MAAQ,CAAEgL,MAAO,QAEjBgE,YAAc,WACZtP,EAAKuP,OAAOC,UACXzC,KAAK,SAAA0C,GACJ,IAAM5M,EAAM6M,IAAIC,gBAAgBF,GAChCzP,EAAK4P,IAAI/M,IAAMA,EACf7C,EAAKU,SAAS,CAAC4K,MAAOmE,IACtBzE,QAAQC,IAAIpI,GACZ7C,EAAK4P,IAAIC,OAAS,WAAQH,IAAII,gBAAgB9P,EAAK6C,WAIvDkN,iBAAmB,WACjB/P,EAAKuP,OAAOS,gBAGdC,aAAe,WACbjQ,EAAKU,SAAS,CAAC4K,MAAO,gFAGf,IAAAjK,EAAAnB,KACCoL,EAAUpL,KAAKI,MAAfgL,MACR,OACE1M,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,kBACHqK,GACD1M,EAAAC,EAAAC,cAACoR,GAAD,CACE5G,IAAK,SAAC6G,GAAU9O,EAAKkO,OAASY,IAE9BvR,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,oBACNrC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcuE,QAASpD,KAAK3B,MAAM6R,UAApD,UAGAxR,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,gBAAgBqC,QAASpD,KAAKoP,cACtC1Q,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAASpD,KAAK6P,kBAC9CnR,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,gBAAgBF,KAAK,SAAQvH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,iKAO9EzH,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,eAAelC,UAAYuM,EAAkB,GAAV,SACzChC,IAAK,SAACsG,GAAUvO,EAAKuO,IAAMA,GAC3B5M,IAAI,KAGJsI,GACA1M,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,oBACNrC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcuE,QAASpD,KAAK+P,cAA9C,UAKArR,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcuE,QAAS,kBAAMjC,EAAK9C,MAAM8R,aAAa/E,KAAvE,qBAvD+BrJ,aCqG5BqO,eA9FX,SAAAA,EAAY/R,GAAM,IAAAyB,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAAoQ,IACdtQ,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAA4R,GAAAjQ,KAAAH,KAAM3B,KAHV+B,MAAQ,CAAEiQ,eAAe,GAEPvQ,EAWlBwQ,YAAc,WACVxQ,EAAKzB,MAAMkS,gBACRzQ,EAAKqI,YACJrI,EAAKqI,WAAWC,QAAQC,SAASC,SAdvBxI,EAkBlB0Q,iBAAmB,SAACC,GAChB3Q,EAAKwQ,cACLxQ,EAAKzB,MAAM8R,aAAaM,IAlBxB3Q,EAAKqI,WAAalH,IAAMC,YAFVpB,mFAMXE,KAAKmI,YACJnI,KAAKmI,WAAWC,QAAQC,SAASC,yCAgBhC,IAAApE,EACuElE,KAAK3B,MAAzEgS,EADHnM,EACGmM,cAAeK,EADlBxM,EACkBwM,QAASC,EAD3BzM,EAC2ByM,SAAU7H,EADrC5E,EACqC4E,KAAMhC,EAD3C5C,EAC2C4C,QAASjB,EADpD3B,EACoD2B,OAAQtB,EAD5DL,EAC4DK,OACjE,OACI7F,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACMiM,GACE3R,EAAAC,EAAAC,cAACgS,EAAAjS,EAAD,CACIkS,QAASR,GACT3R,EAAAC,EAAAC,cAACkS,GAAD,CACIZ,SAAUlQ,KAAKsQ,YACfH,aAAcnQ,KAAKwQ,oBAG/B9R,EAAAC,EAAAC,cAAA,OAAKC,UAAW,uBAA0B6R,EAAU,WAAa,MAASA,GAAWC,EAAW,UAAY,MACxGjS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAASpD,KAAK3B,MAAM0S,eAClDrS,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,mEAGrCzH,EAAAC,EAAAC,cAAA,YAAQ+R,EAAW,OAAS,MAA5B,SAEAjS,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAEhBH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcuE,QAASpD,KAAK3B,MAAM2S,iBAC9CL,EAAW,OAAS,WAI9BjS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKmG,EAAK7B,GAAInE,IAAI,MAG3BpE,EAAAC,EAAAC,cAACuK,EAAAxK,EAAD,CACIyK,IAAKpJ,KAAKmI,WACVkB,YAAY,0BAA0BxK,UAAU,mBAAmByK,KAAM,EACzE/G,MAAOuE,EACP5D,SAAUlD,KAAK3B,MAAM6E,SACrBqG,QAASvJ,KAAK3B,MAAMkL,WAI5B7K,EAAAC,EAAAC,cAACqS,GAAD,CACIrD,UAAQ,EACRjB,MAAO7D,EAAK6D,MACZ9G,OAAQA,EACRtB,OAAQA,EACRgJ,cAAevN,KAAK3B,MAAMkP,cAC1BG,cAAe1N,KAAK3B,MAAMqP,iBAGhC7H,EAAO3G,OAAS,GACdR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mDACXH,EAAAC,EAAAC,cAAA,SAAOqE,KAAK,OAAOlC,GAAG,eAAemC,SAAUlD,KAAK3B,MAAM6S,gBAC1DxS,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAcsE,QAAQ,gBAAvC,aAFJ,eAOIzE,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAcuE,QAASpD,KAAK3B,MAAM8S,cAApD,0BArFAlQ,IAAMc,WCS5BqP,GAAkB,EAwWTC,eApWX,SAAAA,EAAYhT,GAAM,IAAAyB,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAAqR,IACdvR,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAA6S,GAAAlR,KAAAH,KAAM3B,KAHV+B,MAAQ,CAAEkR,kBAAkB,EAAOjB,eAAe,EAAOK,SAAS,EAAOa,UAAU,EAAOC,SAAS,EAAOC,QAAS,KAAM3K,QAAS,GAAIvC,OAAQ,GAAIsB,OAAQ,IAExI/F,EAsClB4R,cAAgB,SAACrQ,GAIb,GAHAA,EAAEsQ,kBACFtQ,EAAEuQ,kBAEC9R,EAAKM,MAAMyF,OAAO3G,OAArB,CAGA,IAAM2S,EAAsB,cAAXxQ,EAAE4B,MAAmC,SAAX5B,EAAE4B,KAE7CtC,WAAW,WACPb,EAAKU,SAAS,CAAC+Q,SAAUM,KAC1B,MAjDW/R,EAoDlBgS,kBAAoB,SAACzQ,GAA4B,IAAzB0Q,IAAyB9S,UAAAC,OAAA,QAAA8S,IAAA/S,UAAA,KAAAA,UAAA,GAI7C,GAHAoC,EAAEsQ,kBACFtQ,EAAEuQ,iBAEC9R,EAAKM,MAAMyF,OAAO3G,OACjB,OAAOO,EAAQnB,EAAY,8CAE5ByT,GACCjS,EAAK4R,cAAcrQ,GAEvB,IAAI4Q,EAAQ5Q,EAAEgB,OAAO4P,OAAS5Q,EAAE6Q,aAAaD,MAEzCA,GAAUA,EAAM/S,QAGpBY,EAAKqS,aAAaF,IAnEJnS,EAsElBsS,WAAa,WACTtH,QAAQC,IAAI,sBACZnH,OAAOyO,QAAQC,UAAU,CAACjC,eAAe,GAAO,gBAAiB,mCACjEvQ,EAAKU,SAAS,CAAC6P,eAAe,KAzEhBvQ,EA4ElBwQ,YAAc,WACV1M,OAAOyO,QAAQE,OACfzS,EAAKU,SAAS,CAAC6P,eAAe,KA9EhBvQ,EAiFlB0S,YAAc,SAACpH,EAAO1D,EAAO/E,GACzB,IAAI8P,EAAUjU,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAMmE,QAEhC6G,EAAMzI,IAAMA,EACZyI,EAAM3D,SAAU,EAEhBgL,EAAWC,OAAOhL,EAAO,EAAG0D,GAE5BtL,EAAKU,SAAS,CAAE+D,OAAQkO,KAzFV3S,EA4FlB6S,cAAgB,SAACvH,EAAO1D,EAAOqG,GAC3B,IAAI0E,EAAUjU,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAMmE,QAEhC6G,EAAMrK,GAAKgN,EAAIhN,GACfqK,EAAMvG,MAAQkJ,EAAIlJ,MAElB4N,EAAWC,OAAOhL,EAAO,EAAG0D,GAE5BtL,EAAKU,SAAS,CAAE+D,OAAQkO,KApGV3S,EAuGlB8S,cAAgB,SAAC7E,GACb,IACI5I,EADU3G,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAMyF,QACT,GACvBV,EAAMpE,GAAKgN,EAAIhN,GAEfjB,EAAKU,SAAS,CAAEqF,OAAQ,CAACV,MA5GXrF,EA+GlB+S,YAAc,WACV/S,EAAKU,SAAS,CAAEqF,OAAQ,MAhHV/F,EAmHlBgT,YAAc,SAACpL,GACX,IAAI+K,EAAUjU,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAMmE,QAEhCkO,EAAWC,OAAOhL,EAAO,GAEzB5H,EAAKU,SAAS,CAAE+D,OAAQkO,KAxHV3S,EA2HlB0Q,iBAAmB,SAACuC,GAChB,GAAGjT,EAAKM,MAAMmE,OAAOrF,SAAWkS,GAAhC,CAKA,IAAMrQ,EAAK,aAAeO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAC/DsR,EAAIC,iBAAmB,IAAIC,KAC3BF,EAAIzQ,KAAO,WAAahB,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAC7D3B,EAAKU,SAAS,CAAE+D,OAAO/F,OAAAiC,EAAA,EAAAjC,CAAKsB,EAAKM,MAAMmE,QAAjB7D,OAAA,CAAyB,CAAEK,KAAIsK,KAAM0H,EAAKtL,SAAS,EAAM9E,IAAK,aAPhFlD,EAAQnB,EAAY,gCAAAoC,OAAiC0Q,GAAjC,cA7HVtR,EAuIlBqS,aAAe,SAACF,GACZ,IACM1N,EADcnF,MAAM8T,KAAKjB,GAAOpR,OAAO,SAAAsS,GAAC,OAAiC,IAA7BA,EAAElQ,KAAKkE,QAAQ,WACtCxF,IAAK,SAAAwR,GAE5B,MAAO,CAAEpS,GADE,aAAeO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAClD4J,KAAM8H,EAAG1L,SAAS,EAAM9E,IAAK,MAG1CyQ,EAAOhC,GAAkBtR,EAAKM,MAAMmE,OAAOrF,OAC5CkU,EAAO,IACNA,EAAO,GAERA,EAAO7O,EAAOrF,QACbO,EAAQnB,EAAY,gCAAAoC,OAAiC0Q,GAAjC,aAExBtR,EAAKU,SAAS,CAAE+D,OAAQzE,EAAKM,MAAMmE,OAAO7D,OAAOiE,gBAAMJ,EAAQ,EAAG6O,MAClEhU,MAAM8T,KAAKjB,GAAOpR,OAAO,SAAAsS,GAAC,OAAiC,IAA7BA,EAAElQ,KAAKkE,QAAQ,WACxCkM,QAAS,SAAAF,GACN,IAAIG,EAAQH,EAAE7Q,KAAKb,OAAO,EAAG,IAAI8R,OACjCD,GAASH,EAAE7Q,KAAKpD,OAAS,GAAK,MAAQ,GACtCO,EAAQnB,EAAY,WAAAoC,OAAY4S,EAAZ,kCA1JdxT,EA8JlB0T,SAAW,SAACpT,EAAOqT,GACXA,GACA3T,EAAKU,SAAS,CAACgR,QAASpR,IAEzBA,GAASqT,GAAa7P,OAAOoH,WAAazH,GACzCzD,EAAK4T,oBAnKK5T,EAuKlB4T,iBAAmB,WACf9P,OAAOyO,QAAQC,UAAU,CAACqB,UAAU,GAAO,WAAY,qBACvD7T,EAAKU,SAAS,CAAC8Q,kBAAkB,KAzKnBxR,EA4KlB8T,kBAAoB,WAChBhQ,OAAOyO,QAAQE,OACfzS,EAAKU,SAAS,CAAC8Q,kBAAkB,IAC9BxR,EAAKM,MAAMqR,SACV3R,EAAKzB,MAAMwV,oBAhLD/T,EAoLlBgI,aAAe,SAACpI,GACZ,IAAIoH,EAAUpH,EAAM2C,OAAOE,MACrBuR,EAAchN,EAAQK,QAAQ,SAC9BxE,EAAMmE,EAAQrF,OAAOqS,EAAahN,EAAQ5H,QAEhDY,EAAKU,SAAS,CAACsG,WAAU,WACrB,IAAoB,IAAjBgN,GAAsBhP,EAAiBnC,GAAK,CAC3C,IACMkD,EAAS,CAAE,CAAE9E,GADR,aAAeO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GACxC0D,MAAOxC,IAC9BmE,EAAUA,EAAQ4B,QAAQ/F,EAAK,IAE/B7C,EAAKU,SAAS,CAAEsG,UAASjB,eA/LnB/F,EAoMlBiI,YAAc,SAACrI,GACM,UAAdA,EAAMoC,KAAmBhC,EAAKM,MAAM0G,QAAQ5H,QAC3CY,EAAKiU,iBAtMKjU,EAyMlBkU,SAAW,SAAC1O,EAAK+G,EAAUD,GACvB,IAAMI,EAAS,CACXC,QAAS,CACLC,eAAgB,oCAEpBN,UAEJ,OAAO6H,eAAM3O,EAAK+G,EAAUG,IAhNd1M,EAmNlBiU,cAnNkBvV,OAAA0V,EAAA,EAAA1V,CAAAkN,EAAA/M,EAAAwV,KAmNF,SAAA3I,IAAA,IAAA4I,EAAAjP,EAAAiH,EAAA9G,EAAA,OAAAoG,EAAA/M,EAAAgN,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZhM,EAAKU,SAAS,CAACkQ,SAAS,KAEpB0D,EAAY,IAAI9H,UACVC,OAAO,UAAWzM,EAAKM,MAAM0G,UAEpChH,EAAKM,MAAMmE,OAAOrF,OANT,CAAA0M,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAOFhM,EAAKM,MAAMmE,OAAO5C,IAAK,SAAAC,GAIzB,OAHAA,EAAEiD,MAAQjD,EAAEyJ,KACZP,QAAQC,IAAInJ,EAAEb,IACdqT,EAAU7H,OAAO,aAAc3K,EAAEb,IAC1Ba,EAAEb,KAXL,OAeTjB,EAAKM,MAAMyF,OAAO3G,SAAWY,EAAKM,MAAMmE,OAAOrF,SACxCiG,EAAQrF,EAAKM,MAAMyF,OAAO,GAMhCuO,EAAUC,IAAI,UAAWvU,EAAKM,MAAM0G,QAAU3B,EAAMA,QAGlDiH,EAAS,CAAEO,MAAO7M,EAAKzB,MAAMyK,KAAK6D,OAClCrH,EAAMhC,GAAiBxD,EAAKM,MAAMqR,QAAU,aAAe,kBAE9D3R,EAAKM,MAAMqR,SACV2C,EAAU7H,OAAO,KAAMzM,EAAKM,MAAMqR,SAGtC3R,EAAKkU,SAAS1O,EAAK8O,EAAWhI,GACzBS,KAAK,SAAAyH,GAAY,IAAVtH,EAAUsH,EAAVtH,KACJlN,EAAKU,SAAS,CAACkQ,SAAS,IACxB,IAAM3D,EAAWC,EAAK,GACtBlC,QAAQC,IAAI,uBAAwBgC,GAGjCA,EAASwH,SACRzU,EAAKzB,MAAMmW,UAAUzH,EAASjD,MAC3BhK,EAAKM,MAAMkR,kBACVxR,EAAK8T,oBAET9T,EAAKU,SAAS,CAAEkQ,SAAS,EAAOa,UAAU,EAAOC,SAAS,EAAO1K,QAAS,GAAIvC,OAAQ,GAAIsB,OAAQ,QAGzGqH,MAAM,SAACC,GACJrN,EAAKU,SAAS,CAACkQ,SAAS,IACxBjR,EAAQnB,EAAY,0BAEpB,IAAI8O,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,oBAAqBC,KA5D/B,yBAAAxB,EAAAO,SAAAX,EAAAxL,SAjNZF,EAAKkB,QAAUC,IAAMC,YAFPpB,mFAKC,IAAAqB,EAAAnB,KACf,GAAGA,KAAK3B,MAAMyL,KAAK,KAAA2K,EACyBzU,KAAK3B,MAAMyL,KAA3C/I,EADO0T,EACP1T,GAAI+F,EADG2N,EACH3N,QAASvC,EADNkQ,EACMlQ,OAAQsB,EADd4O,EACc5O,OAC7B7F,KAAKQ,SAAS,CAACiR,QAAS1Q,EAAI+F,UAASvC,SAAQsB,UAAS,WAC/CjC,OAAOoH,WAAazH,GACnBpC,EAAKuS,qBAKjB9P,OAAOxC,iBAAiB,WAAYpB,KAAK0R,eAAe,GACxD9N,OAAOxC,iBAAiB,YAAapB,KAAK0R,eAAe,GACzD9N,OAAOxC,iBAAiB,OAAQpB,KAAK8R,mBAAmB,GAExD9R,KAAK0U,YAAa,EAElB/U,SAASyB,iBAAiB,cAAe,SAACC,GACtC,GAAGF,EAAKuT,WAAY,KACRC,EAAS/Q,OAAOgR,SAAhBD,KACR7J,QAAQC,IAAI,kBAAmB4J,EAAMA,EAAKxN,QAAQ,sBACT,IAAtCwN,EAAKxN,QAAQ,qBAA8BhG,EAAKf,MAAMkR,mBACrDnQ,EAAKX,SAAS,CAAC8Q,kBAAkB,IAC9BnQ,EAAKf,MAAMqR,SACVtQ,EAAK9C,MAAMwV,qBAImB,IAAnCc,EAAKxN,QAAQ,kBAA2BhG,EAAKf,MAAMiQ,eAClDlP,EAAKX,SAAS,CAAC6P,eAAe,OAEvC,oCAgPE,IAAArB,EAAAhP,KACG8I,EAAS9I,KAAK3B,MAAdyK,KADHtG,EAEqGxC,KAAKI,MAAvGkR,EAFH9O,EAEG8O,iBAAkBjB,EAFrB7N,EAEqB6N,cAAeK,EAFpClO,EAEoCkO,QAASe,EAF7CjP,EAE6CiP,QAASF,EAFtD/O,EAEsD+O,SAAmBzK,GAFzEtE,EAEgEgP,QAFhEhP,EAEyEsE,SAASvC,EAFlF/B,EAEkF+B,OAAQsB,EAF1FrD,EAE0FqD,OACzFgP,EAASnE,GAAWe,GAERlN,EAAOrF,QAAU2G,EAAO3G,SACXqF,EAAOrF,OAEtC,OACIR,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACMkN,GACE5S,EAAAC,EAAAC,cAACkW,GAAD,CACIhM,KAAMA,EACNhC,QAASA,EACTvC,OAAQA,EACRsB,OAAQA,EACRwK,cAAeA,EACfK,QAASA,EACTC,SAAqB,MAAXc,EACVvO,SAAUlD,KAAK8H,aACfyB,QAASvJ,KAAK+H,YACdmJ,cAAelR,KAAK8R,kBACpBvE,cAAevN,KAAK8S,YACpBpF,cAAe1N,KAAK6S,YACpB7B,gBAAiBhR,KAAK+T,cACtBhD,cAAe/Q,KAAK4T,kBACpBzC,aAAcnR,KAAKoS,WACnB7B,cAAevQ,KAAKsQ,YACpBH,aAAcnQ,KAAKwQ,mBAG3B9R,EAAAC,EAAAC,cAAA,OAAKwK,IAAKpJ,KAAKgB,QAASnC,UAAY,gBAAmBgW,EAAS,UAAY,MAASnE,EAAU,WAAa,MAASa,EAAW,YAAc,KAAOhN,EAAOrF,OAAS,aAAe,KAChLR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKmG,EAAK7B,GAAInE,IAAI,MAG3BpE,EAAAC,EAAAC,cAACuK,EAAAxK,EAAD,CACI0K,YAAY,0BAA0BxK,UAAU,mBAAmByK,KAAM,EACzElG,QAAU,kBAAM4L,EAAKwE,UAAS,GAAM,IACpCuB,QAAU,kBAAM/F,EAAKwE,UAAS,IAC9BwB,OAAS,kBAAMhG,EAAKwE,UAAS,IAC7BtQ,SAAUlD,KAAK8H,aACfyB,QAASvJ,KAAK+H,YACdxF,MAAOuE,KAGfpI,EAAAC,EAAAC,cAACqS,GAAD,CACItE,MAAO7D,EAAK6D,MACZ9G,OAAQA,EACRtB,OAAQA,EACR2H,cAAelM,KAAKwS,YACpBvF,gBAAiBjN,KAAK2S,cACtBpF,cAAevN,KAAK8S,YACpBhF,gBAAiB9N,KAAK4S,cACtBlF,cAAe1N,KAAK6S,cAExBnU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,SAAOqE,KAAK,OAAOlC,GAAG,eAAemC,SAAU,SAAC7B,GAAD,OAAO2N,EAAK8C,kBAAkBzQ,GAAG,MAChF3C,EAAAC,EAAAC,cAAA,SAAOC,UAAU,sBAAsBsE,QAAQ,gBAC3CzE,EAAAC,EAAAC,cAAA,OAAK2L,MAAM,6BAA6Bb,MAAM,KAAK7G,OAAO,KAAKqD,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,UAAQqW,GAAG,KAAKC,GAAG,KAAKC,EAAE,QAAOzW,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,8JAA6JzH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,gBAAgBF,KAAK,UAD1T,sBAMJvH,EAAAC,EAAAC,cAAA,UAAQC,UAAW,eAAkBiI,EAAQ5H,OAAuB,GAAd,aAClDkE,QAAUpD,KAAK+T,eACbtC,EAAU,OAAS,UAKjC/S,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iCAAiCuE,QAASpD,KAAK0T,kBAC7DhV,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,kDAhW/BlF,IAAMc,WCPbqT,WAPA,SAAE/W,GAAW,IAChBgX,EAAShX,EAATgX,KACR,OACI3W,EAAAC,EAAAC,cAAA,OAAKC,UAAW,cAAgBwW,EAAO,OAAS,KAAK3W,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,YAAWF,EAAAC,EAAAC,cAAA,eCuB/E0W,4LAvBF,IAAApR,EACkBlE,KAAK3B,MAApByL,EADH5F,EACG4F,KAAMhB,EADT5E,EACS4E,KACd,OACIpK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8CAAf,YAGIH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAAUpD,KAAK3B,MAAMwV,kBACnDnV,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,6GAGzCzH,EAAAC,EAAAC,cAAC2W,GAAD,CACIzL,KAAMA,EACNhB,KAAOA,EACP0L,UAAYxU,KAAK3B,MAAMmW,UACvBX,iBAAmB7T,KAAK3B,MAAMwV,4BAjB/B5S,IAAMc,YCgLdyT,sNA5KXpV,MAAQ,CAAE2J,mBAAmB,EAAMxC,SAAU,MAe7CkO,mBAAqB,SAAC/N,GAClB,IAAIH,EAAQ/I,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAMmH,UAC1Bb,EAAU6B,KAAKC,MAAMD,KAAKE,UAAUlB,EAASG,KAC3CgO,EAAUhP,EAAQK,SAExBL,EAAQK,UAAY2O,EACpBnO,EAASmL,OAAOhL,EAAO,EAAGhB,GAE1B5G,EAAKU,SAAS,CAAE+G,aARY,IAUpBuB,EAAShJ,EAAKzB,MAAdyK,KACFxD,EAAMhC,GAAiBoS,EAAU,mBAAqB,kBACtDtJ,EAAS,CAAEO,MAAO7D,EAAK6D,MAAOgJ,WAAYjP,EAAQ3F,IACxD6U,IAAMC,IAAIvQ,EAAK,CAAE8G,WACZS,KAAK,SAAA7F,GAAY,IACR+F,EADQ/F,EAAVgG,KACkB,GACtBlC,QAAQC,IAAI,+BAAgCgC,GACxCA,EAASwH,OAMTzU,EAAKzB,MAAMyX,oBAAoBpO,GAAQgO,IALvChP,EAAQK,SAAW2O,EACnBnO,EAASmL,OAAOhL,EAAO,EAAGhB,GAE1B5G,EAAKU,SAAS,CAAE+G,gBAKvB2F,MAAM,SAACC,GACJrC,QAAQqC,MAAM,4BAA6BA,GAC3CzG,EAAQK,SAAW2O,EACnBnO,EAASmL,OAAOhL,EAAO,EAAGhB,GAE1B5G,EAAKU,SAAS,CAAE+G,kBAI5BwO,WAAa,SAAEjP,GAAa,IAAA5C,EACDpE,EAAKzB,MAApByL,EADgB5F,EAChB4F,KAAMhB,EADU5E,EACV4E,KACRpC,EAAU,CACZ3F,GAAI,aAAeO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GACxDqF,UACAF,aAAc,IAAIqM,KAClBlM,UAAU,EACVJ,UAAW7G,EAAKzB,MAAMyK,MAGtBvB,EAAQ/I,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAMmH,UACxByO,EAAoBzO,EAASrI,OACnCqI,EAAS0O,KAAKvP,GAEd5G,EAAKU,SAAS,CAAE+G,aAEhB,IAAM6E,EAAS,CAAEO,MAAO7D,EAAK6D,OACzByH,EAAY,IAAI9H,SACpB8H,EAAU7H,OAAO,UAAWzF,GAC5BsN,EAAU7H,OAAO,UAAWzC,EAAK/I,IAEjC6U,IAAM,CACFM,OAAQ,OACR5Q,IAAKhC,EAAe,oBACpBmJ,QAAS,CACLC,eAAgB,oCAEpBN,SACAY,KAAMoH,IAETvH,KAAK,SAAAyH,GAAY,IACRvH,EADQuH,EAAVtH,KACkB,GACtBlC,QAAQC,IAAI,mBAAoBgC,GAE5BA,EAASwH,QAKT7N,EAAQ3F,GAAK2F,EAAQ3F,GAAG2H,QAAQ,aAAc,IAC9CnB,EAASmL,OAAOsD,EAAmB,EAAGtP,GACtC5G,EAAKzB,MAAMsK,aAAajC,KANxBoD,EAAKG,gBAAkB,EACvBH,EAAKI,iBAAmB,EACxB3C,EAASmL,OAAOsD,EAAmB,IAOvClW,EAAKU,SAAS,CAAE+G,eAEnB2F,MAAM,SAACC,GACJ,IAAIC,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,gBAAiBC,GAE/B7F,EAASmL,OAAOsD,EAAmB,GACnClW,EAAKU,SAAS,CAAE+G,kBAIxB4O,cAAgB,WAAM,IAAAC,EACKtW,EAAKzB,MAApByK,EADUsN,EACVtN,KAAMgB,EADIsM,EACJtM,KACRsC,EAAS,CAAEO,MAAO7D,EAAK6D,MAAO8E,QAAS3H,EAAK/I,IAElD6U,IAAMC,IAAIvS,EAAe,aAAc,CAAE8I,WACxCS,KAAK,SAACE,GACHjC,QAAQC,IAAI,yBAA0BgC,EAA8B,MAApBA,EAASwH,QAElC,MAApBxH,EAASwH,QACRzU,EAAKU,SAAS,CAAE+G,SAAUwF,EAASC,OAGvClN,EAAKU,SAAS,CAAEuJ,mBAAmB,MAEtCmD,MAAM,SAACC,GACJ,IAAIC,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,sBAAuBC,GACrCtN,EAAKU,SAAS,CAAEuJ,mBAAmB,0FAxIxB,IAAA5I,EAAAnB,KACf4D,OAAOyO,QAAQC,UAAU,CAAC+D,oBAAsB,GAAO,qBAAsB,uBAC7E1W,SAASyB,iBAAiB,cAAe,SAACC,GAAM,IACpCsT,EAAS/Q,OAAOgR,SAAhBD,KACR7J,QAAQC,IAAI,qCAAsC4J,EAAMA,EAAKxN,QAAQ,wBAC1B,IAAxCwN,EAAKxN,QAAQ,uBACZhG,EAAK9C,MAAMiY,uBAEhB,GAEHtW,KAAKmW,iDAkIA,IAAAI,EACkBvW,KAAK3B,MAApByK,EADHyN,EACGzN,KAAMgB,EADTyM,EACSzM,KADTtH,EAEmCxC,KAAKI,MAArC2J,EAFHvH,EAEGuH,kBAAmBxC,EAFtB/E,EAEsB+E,SAC3B,OACI7I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAAS,kBAAMQ,OAAOyO,QAAQE,SAC5D7T,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,mEAGrCzH,EAAAC,EAAAC,cAAA,8BAGJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAACgM,EAAD,CAAcrD,SAAUA,EAAUE,QAASsC,EACnCnC,qBAAsB5H,KAAKyV,sBAGvC/W,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAACiM,EAAD,CACI/B,KAAMA,EAAMxC,MAAOwD,EAAK/C,SACxB8B,WAAS,EACTE,aAAW,EACXJ,aAAiB3I,KAAK+V,sBAtKb9U,IAAMc,YCmYxByU,8MAxXXpW,MAAQ,CAAEqW,eAAe,EAAOC,UAAU,EAAOC,KAAM,EAAGC,WAAY,KAAMC,cAAe,KAAMC,MAAO,MAexGC,eAAiB,WAKbjX,EAAKU,SAAS,CAACkW,UAAU,IACzB,IAAMtK,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAOgK,KAAM7W,EAAKM,MAAMuW,MAE3Df,IAAMC,IAAIvS,EAAe,SAAU,CAAE8I,WACpCS,KAAK,SAAA7F,GAAY,IAAVgG,EAAUhG,EAAVgG,KACJlC,QAAQC,IAAI,qBAAsBiC,GAClClN,EAAKU,SAAS,CAACsW,MAAMtY,OAAAiC,EAAA,EAAAjC,CAAKsB,EAAKM,MAAM0W,OAAjBpW,OAAAlC,OAAAiC,EAAA,EAAAjC,CAA2BwO,IAAO0J,UAAU,EAAOD,eAAe,EAAME,KAAM7W,EAAKM,MAAMuW,KAAO,MAEvHzJ,MAAM,SAACE,GACJtC,QAAQqC,MAAM,oBAAqBC,GACnCtN,EAAKU,SAAS,CAACiW,eAAe,EAAMC,UAAU,SAKtDjB,mBAAqB,SAAC3L,EAAMpC,EAAOsP,GAC/B,IAAItQ,EAAU6B,KAAKC,MAAMD,KAAKE,UAAUqB,EAAKvC,SAASyP,KAChDtB,EAAUhP,EAAQK,SACpBkQ,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAG/BpQ,EAAQK,UAAY2O,EAEpB5L,EAAKvC,SAASmL,OAAOsE,EAAe,EAAGtQ,GACvCuQ,EAAUvE,OAAOhL,EAAO,EAAGoC,GAE3BhK,EAAKU,SAAS,CAAEsW,MAAOG,IAEvB,IAAM3R,EAAMhC,GAAiBoS,EAAU,mBAAqB,kBACtDtJ,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAOgJ,WAAYjP,EAAQ3F,IAC9D6U,IAAMC,IAAIvQ,EAAK,CAAE8G,WACZS,KAAK,SAAAyH,GAAY,IACRvH,EADQuH,EAAVtH,KACkB,GACtBlC,QAAQC,IAAI,+BAAgCgC,GACxCA,EAASwH,SACT7N,EAAQK,SAAW2O,EACnB5L,EAAKvC,SAASmL,OAAOsE,EAAe,EAAGtQ,GAEvCuQ,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,OAG9B/J,MAAM,SAACC,GACJrC,QAAQqC,MAAM,4BAA6BA,GAC3CzG,EAAQK,SAAW2O,EACnB5L,EAAKvC,SAASmL,OAAOsE,EAAe,EAAGtQ,GAEvCuQ,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,SAInCC,gBAAkB,SAACpN,EAAMpC,EAAOsP,EAAeG,GAC3C,IAAIzQ,EAAU6B,KAAKC,MAAMD,KAAKE,UAAUqB,EAAKvC,SAASyP,KAClDC,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAC/BpQ,EAAQK,SAAWoQ,EAGhBrN,EAAKvC,SAASrI,OAAS8X,IAG1BlN,EAAKvC,SAASmL,OAAOsE,EAAe,EAAGtQ,GACvCuQ,EAAUvE,OAAOhL,EAAO,EAAGoC,GAE3BhK,EAAKU,SAAS,CAAEsW,MAAOG,QAG3BG,YAAc,SAACtN,EAAMpC,GACjB,IAAMgO,EAAU5L,EAAK/C,SACjBkQ,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAE/BhN,EAAK/C,UAAY2O,EACjB5L,EAAKE,aAAe0L,GAAW,EAAI,EAEnCuB,EAAUvE,OAAOhL,EAAO,EAAGoC,GAE3BhK,EAAKU,SAAS,CAAEsW,MAAOG,IAEvB,IAAM3R,EAAMhC,GAAiBoS,EAAU,gBAAkB,eACnDtJ,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAO8E,QAAS3H,EAAK/I,IACxD6U,IAAMC,IAAIvQ,EAAK,CAAE8G,WACZS,KAAK,SAAAC,GAAYA,EAAVE,KACkB,GACTuH,SACTzK,EAAK/C,SAAW2O,EAEhBuB,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,OAG9B/J,MAAM,SAACC,GACJrC,QAAQqC,MAAM,oBAAqBA,GACnCrD,EAAK/C,SAAW2O,EAEhBuB,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,SAInCI,QAAU,SAACvN,GACP,IAAImN,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAC/BG,EAAUK,QAAQxN,GAElBgB,QAAQC,IAAIjB,EAAMmN,GAClBxX,EAAQnB,EAAY,iCAEpBwB,EAAKU,SAAS,CAAEsW,MAAOG,OAG3BlB,WAAa,SAACjM,EAAMpC,EAAOZ,GACvB,IACMkQ,EADOxY,OAAA+Y,EAAA,EAAA/Y,CAAA,GAAOsL,GACYvC,SAASrI,OAEzC4L,QAAQC,IAAIjB,EAAKvC,SAASrI,QAC1B4K,EAAKG,gBAAkB,EACvBH,EAAKI,iBAAmB,EAExB,IAAMxD,EAAU,CACZ3F,GAAI,aAAeO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GACxDqF,UACAF,aAAc,IAAIqM,KAClBlM,UAAU,EACVJ,UAAW7G,EAAKzB,MAAMyK,MAG1BgB,EAAKvC,SAAS0O,KAAKvP,GAEnB,IAAIuQ,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAC/BG,EAAUvE,OAAOhL,EAAO,EAAGoC,GAE3BhK,EAAKU,SAAS,CAAEsW,MAAOG,IAEvB,IAAM7K,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,OAC/ByH,EAAY,IAAI9H,SACpB8H,EAAU7H,OAAO,UAAWzF,GAC5BsN,EAAU7H,OAAO,UAAWzC,EAAK/I,IAEjC6U,IAAM,CACFM,OAAQ,OACR5Q,IAAKhC,EAAe,oBACpBmJ,QAAS,CACLC,eAAgB,oCAEpBN,SACAY,KAAMoH,IAETvH,KAAK,SAAA2K,GAAY,IACRzK,EADQyK,EAAVxK,KACkB,GACtBlC,QAAQC,IAAI,mBAAoBgC,GAE5BA,EAASwH,OAKT7N,EAAQ3F,GAAK2F,EAAQ3F,GAAG2H,QAAQ,aAAc,KAJ9CoB,EAAKvC,SAASmL,OAAOsE,EAAe,GACpClN,EAAKG,gBAAkB,EACvBH,EAAKI,iBAAmB,GAK5B+M,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,MAE1B/J,MAAM,SAACC,GACJ,IAAIC,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,gBAAiBC,GAE/BtD,EAAKvC,SAASmL,OAAOsE,EAAe,GACpCC,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,SAI/BQ,iBAAmB,SAAC3N,EAAMpC,EAAOhB,GAC7BoD,EAAKG,gBAAkB,EACvBH,EAAKI,iBAAmB,EACxBJ,EAAKvC,SAAS0O,KAAKvP,GAEnB,IAAIuQ,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAC/BG,EAAUvE,OAAOhL,EAAO,EAAGoC,GAE3BhK,EAAKU,SAAS,CAAEsW,MAAOG,OAG3BS,aAAe,SAAC5N,EAAMpC,GAClB,GAAG9D,OAAOoH,WAAazH,EACnB,OAAOzD,EAAK6X,gBAAgB7N,EAAMpC,GAGtCoC,EAAKC,mBAAoB,EAEzB,IAAIkN,EAASzY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OAC/BG,EAAUvE,OAAOhL,EAAO,EAAGoC,GAE3BhK,EAAKU,SAAS,CAAEsW,MAAOG,IAEvB,IAAM7K,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAO8E,QAAS3H,EAAK/I,IAExD6U,IAAMC,IAAIvS,EAAe,aAAc,CAAE8I,WACxCS,KAAK,SAACE,GACHjC,QAAQC,IAAI,yBAA0BgC,EAA8B,MAApBA,EAASwH,QAElC,MAApBxH,EAASwH,SACRzK,EAAKvC,SAAWwF,EAASC,MAG7BlD,EAAKC,mBAAoB,EACzBkN,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BgB,QAAQC,IAAIkM,EAAU,IACtBnX,EAAKU,SAAS,CAAEsW,MAAOG,MAE1B/J,MAAM,SAACC,GACJ,IAAIC,EAAM,GAENA,EADAD,EAAMJ,SACAI,EAAMJ,SAASC,KACdG,EAAME,QACPF,EAAME,QAENF,EAAM5O,QAGhBuM,QAAQqC,MAAM,sBAAuBC,GAErCtD,EAAKC,mBAAoB,EACzBkN,EAAUvE,OAAOhL,EAAO,EAAGoC,GAC3BhK,EAAKU,SAAS,CAAEsW,MAAOG,SAI/BU,gBAAkB,SAAC7N,EAAMpC,GACrB5H,EAAKU,SAAS,CAAEqW,cAAe,CAAE/M,OAAMpC,cAG3CkQ,iBAAmB,WACf9X,EAAKU,SAAS,CAAEqW,cAAe,UAGnCgB,SAAW,SAAC/N,EAAMpC,GACd5H,EAAKU,SAAS,CAAEoW,WAAY,CAAE9M,OAAMpC,cAGxCoQ,SAAW,SAAChO,GACR,IAAIgN,EAAKtY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OACrBpP,EAAQ5H,EAAKM,MAAMwW,WAAWlP,MACpCoP,EAAMpE,OAAOhL,EAAO,EAAGoC,GAEvBhK,EAAKU,SAAS,CAAEsW,aAGpBiB,eAAiB,WACbjY,EAAKU,SAAS,CAAEoW,WAAY,UAGhCoB,WAAa,SAAClO,EAAMpC,GAChB,IAAIoP,EAAKtY,OAAAiC,EAAA,EAAAjC,CAAOsB,EAAKM,MAAM0W,OACrBxR,EAAMhC,EAAe,eACrB8I,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAO8E,QAAS3H,EAAK/I,IAExDyC,EAAQ,cAAe,uCACnB,SAAU,SAAEyU,GACJA,GAGJrC,IAAMC,IAAIvQ,EAAK,CAAE8G,WACZS,KAAK,SAAAqL,GAAYA,EAAVlL,KACkB,GAEVuH,SACR9U,EAAQnB,EAAY,iBACpBwY,EAAMpE,OAAOhL,EAAO,GAEpB5H,EAAKU,SAAS,CAAEsW,aAGvB5J,MAAM,SAACC,GACJrC,QAAQqC,MAAM,oBAAqBA,UAKvDgL,oBAAsB,SAACzY,GACnBoL,QAAQC,IAAI,sBAAuBrL,GAChCA,EAAMsE,iBAAmBlE,EAAKM,MAAMsW,UACnC5W,EAAKiX,qGAnTM,IAAA5V,EAAAnB,KAAAkE,EACmBlE,KAAK3B,MAA/ByK,EADO5E,EACP4E,KAAMgO,EADC5S,EACD4S,MADC5S,EACM0J,SAOZ9E,GACL9I,KAAKQ,SAAS,CAACsW,QAAOL,eAAe,IAJrCzW,KAAKQ,SAAS,CAACmM,MAAO7D,EAAK6D,OAAQ,WAC/BxL,EAAK4V,oDAiTR,IAAA/H,EAAAhP,KAAAwC,EAC2ExC,KAAKI,MAA7EgY,EADH5V,EACG4V,SAAUtB,EADbtU,EACasU,MAAOF,EADpBpU,EACoBoU,WAAYC,EADhCrU,EACgCqU,cAAeJ,EAD/CjU,EAC+CiU,cAAeC,EAD9DlU,EAC8DkU,SAD9DN,EAEsBpW,KAAK3B,MAAxByK,EAFHsN,EAEGtN,KAAM8E,EAFTwI,EAESxI,SACRtO,EAAU,CACZ4D,SAAUlD,KAAKmY,oBACfE,KAAM,OACNpU,WAAU,WAGd,OACIvF,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACMwS,GACElY,EAAAC,EAAAC,cAAC0Z,GAAD,CACIxP,KAAMA,EACNgB,KAAM8M,EAAW9M,KACjB0K,UAAWxU,KAAK8X,SAChBjE,iBAAkB7T,KAAK+X,iBAG7BlB,GACEnY,EAAAC,EAAAC,cAAC2Z,GAAD,CACIzP,KAAMA,EACNgB,KAAM+M,EAAc/M,KACpBnB,aAAc,SAAAjC,GAAO,OAAIsI,EAAKyI,iBAAiBZ,EAAc/M,KAAM+M,EAAcnP,MAAOhB,IACxFoP,oBAAqB,SAACkB,EAAeG,GAAhB,OAA+BnI,EAAKkI,gBAAgBL,EAAc/M,KAAM+M,EAAcnP,MAAOsP,EAAeG,IACjIb,mBAAoBtW,KAAK4X,mBAGjClZ,EAAAC,EAAAC,cAAA,OAAKC,UAAY,yBAA4BuZ,EAAW,WAAa,MAC9DxK,GAAYlP,EAAAC,EAAAC,cAAC2W,GAAD,CAASzM,KAAOA,EAAO0L,UAAYxU,KAAKqX,UAEvD3Y,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACV4X,GACGK,EAAMnV,IAAK,SAACmI,EAAMpC,GAAP,OACPhJ,EAAAC,EAAAC,cAAC4Z,EAAD,CAAU1W,IAAKgI,EAAK/I,GAAI+I,KAAMA,EAAMhB,KAAMA,EACtC1B,cAAgB,kBAAM4H,EAAKoI,YAAYtN,EAAMpC,IAC7CiB,aAAe,SAACjC,GAAD,OAAasI,EAAK+G,WAAWjM,EAAMpC,EAAOhB,IACzDkB,qBAAuB,SAACoP,GAAD,OAAmBhI,EAAKyG,mBAAmB3L,EAAMpC,EAAOsP,IAC/ErM,eAAiB,kBAAMqE,EAAK0I,aAAa5N,EAAMpC,IAC/C8C,WAAa,kBAAMwE,EAAK6I,SAAS/N,EAAMpC,IACvC+C,aAAe,kBAAMuE,EAAKgJ,WAAWlO,EAAMpC,IAC3C4C,WAAY,kBAAM0E,EAAK3Q,MAAMiM,WAAWR,EAAKnD,iBAK3D+P,GACEhY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAC6Z,GAAD,OAIN/Z,EAAAC,EAAAC,cAACyF,EAAA,EAAa/E,EACRZ,EAAAC,EAAAC,cAAA,OAAKuF,MAAO,CAACtB,OAAQ,QACjBhE,UAAU,sCAhXnBoC,IAAMc,WCPd2W,WARA,SAAA1R,GAAqC,IAAjC2R,EAAiC3R,EAAjC2R,SAAUC,EAAuB5R,EAAvB4R,OAAQ3J,EAAejI,EAAfiI,SACjC,OACIvQ,EAAAC,EAAAC,cAAA,OAAKC,UAAW,iCAAoC8Z,EAAW,aAAe,KAASC,EAAS,mBAAqB,KAC/G3J,KCQC4J,WAZA,SAACxa,GACZ,IAAMya,EAAKza,EAAMya,IAAM,OACjBC,EAAU1a,EAAM0a,SAAW,GAC3BC,EAAO3a,EAAM2a,OAAQ,EAE3B,OACIta,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,SAASlC,UAAWma,EAAO,OAAS,GAAI7U,MAAQ,CAAE8U,gBAAiBH,EAAII,WAAYH,IACrF1a,EAAM4Q,YCPdkK,4LA+BE,OACIza,EAAAC,EAAAC,cAAA,OAAKC,UAAW,WAAamB,KAAK3B,MAAMQ,WAClCmB,KAAK3B,MAAM4Q,iBAjCVhO,IAAMc,YAAnBoX,GACKC,QAAU,SAAApS,GAA6B,IAA1BnI,EAA0BmI,EAA1BnI,UAAWoQ,EAAejI,EAAfiI,SAC3B,OACIvQ,EAAAC,EAAAC,cAAA,OAAKC,UAAW,mBAAqBA,GAC/BoQ,IAJZkK,GASKE,OAAS,SAAA/E,GAAyC,IAAtCzV,EAAsCyV,EAAtCzV,UAAWoQ,EAA2BqF,EAA3BrF,SAAUqK,EAAiBhF,EAAjBgF,WACpC,OACI5a,EAAAC,EAAAC,cAAA,UAAQwE,QAAUkW,EAAaza,UAAY,eAAiBA,GAAcoQ,IAXhFkK,GAeKI,QAAU,SAAAzM,GAA6B,IAA1BmC,EAA0BnC,EAA1BmC,SAAUpQ,EAAgBiO,EAAhBjO,UACpBkC,EAAK,aAAeO,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAC3D+X,EAAgB,4CAGpB,OAFAA,GAAiB3a,EAGbH,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KAEI1F,EAAAC,EAAAC,cAAA,UAAQuE,QAASpC,EAAIlC,UAAW2a,GAC1BvK,KAePkK,ICtCXM,GDsCWN,MEWAO,oLA3CF,IAAAxV,EACiDlE,KAAK3B,MAAnDyK,EADH5E,EACG4E,KAAM6Q,EADTzV,EACSyV,cAAeC,EADxB1V,EACwB0V,SAAUtP,EADlCpG,EACkCoG,WAEvC,OACI5L,EAAAC,EAAAC,cAACib,GAAD,CAAQf,GAAG,WACPpa,EAAAC,EAAAC,cAACkb,GAAD,KACIpb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAU8D,IAAKC,IAAME,IAAI,KAD5C,SAGIpE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAhB,SAIAH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAEhBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKmG,EAAK7B,GAAInE,IAAI,GAAGM,QAASuW,KAGvCjb,EAAAC,EAAAC,cAACmb,GAAD,CAAMlb,UAAU,gBACZH,EAAAC,EAAAC,cAACmb,GAAKR,QAAN,KACI7a,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SACZH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKmG,EAAK7B,GAAInE,IAAI,MAE3BpE,EAAAC,EAAAC,cAAA,qBAAkBkK,EAAK5B,cAEvBxI,EAAAC,EAAAC,cAAA,OAAK2L,MAAM,6BAA6Bb,MAAM,KAAK7G,OAAO,KAAKqD,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,4DAA2DzH,EAAAC,EAAAC,cAAA,QAAMqH,KAAK,OAAOE,EAAE,sBAG9KzH,EAAAC,EAAAC,cAACmb,GAAKX,QAAN,KAEI1a,EAAAC,EAAAC,cAACmb,GAAKV,OAAN,CAAaC,WAAaM,GAA1B,eAKZlb,EAAAC,EAAAC,cAACob,GAAD,CACIlR,KAAOA,EACPwB,WAAYA,YAtCbrJ,IAAMc,WCYVkY,iNAfH,IAAA/V,EACsBlE,KAAK3B,MAAvBkG,EADJL,EACIK,OACF2V,EAFFhW,EACYwD,OACQ,EACxB,OACIhJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAEP0F,EAAO5C,IAAK,SAAEC,EAAGuY,GAAL,OACRzb,EAAAC,EAAAC,cAACgG,EAAD,CAAO/F,UAAWsb,GAAOD,EAAS,UAAY,GAAI/V,MAAQ,CAAEiW,OAAQD,GAAOrY,IAAKF,EAAEb,GAAI4B,IAAKf,EAAEiD,kBAR5F5D,IAAMc,YC6BhBsY,sNA7BXja,MAAQ,CAAEka,gBAAgB,KAE1BC,mBAAqB,SAAClZ,GAClBvB,EAAKzB,MAAMmc,WAAWnZ,EAAEgB,OAAO6F,oFAG3B,IACIoS,EAAmBta,KAAKI,MAAxBka,eAER,OACI5b,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACTyb,GACE5b,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,cAAclC,UAAU,UAC5BH,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKua,mBAAoBtR,KAAK,MAAMC,aAAW,QAA9D,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKua,mBAAoBtR,KAAK,MAAMC,aAAW,QAA9D,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKua,mBAAoBtR,KAAK,MAAMC,aAAW,WAA9D,gBACAxK,EAAAC,EAAAC,cAAA,QAAMwE,QAASpD,KAAKua,mBAAoBtR,KAAK,MAAMC,aAAW,WAA9D,iBAIRxK,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBACXyb,GAAkB5b,EAAAC,EAAAC,cAAA,OAAK8K,MAAM,KAAK7G,OAAO,KAAKqD,QAAQ,YAAYD,KAAK,OAAOwU,OAAO,eAAeC,YAAY,IAAIC,cAAc,QAAQC,eAAe,QAAQ/b,UAAU,8BAA6BH,EAAAC,EAAAC,cAAA,YAAUic,OAAO,qBAC1NP,GAAkB5b,EAAAC,EAAAC,cAAA,OAAK8K,MAAM,KAAK7G,OAAO,KAAKqD,QAAQ,YAAYD,KAAK,OAAOwU,OAAO,eAAeC,YAAY,IAAIC,cAAc,QAAQC,eAAe,QAAQ/b,UAAU,4BAA2BH,EAAAC,EAAAC,cAAA,UAAQqW,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAAczW,EAAAC,EAAAC,cAAA,QAAMkc,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,OAAYvc,EAAAC,EAAAC,cAAA,QAAMkc,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,iBAvBlTha,IAAMc,YCwBnB8H,GAvBE,SAACxL,GAAU,IAChByK,EAA8CzK,EAA9CyK,KAAMoS,EAAwC7c,EAAxC6c,KAAMC,EAAkC9c,EAAlC8c,cAAeC,EAAmB/c,EAAnB+c,eAC3BrU,EAA8CmU,EAA9CnU,SAAUJ,EAAoCuU,EAApCvU,UAAyBpC,GAAW2W,EAAzBtU,aAAyBsU,EAAX3W,QAE3C,OACI7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKgE,EAAUM,GAAInE,IAAI,MAGhCpE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAqBuE,QAAS/E,EAAMiM,YAC9C3D,EAAUO,eAIpBxI,EAAAC,EAAAC,cAACyc,GAAD,CAAY3T,MAAOyT,EAAe5W,OAAQA,KAEvC6W,GAAkB1c,EAAAC,EAAAC,cAAC0c,GAAD,CAAexS,KAAMA,EAAMxC,MAAOS,MJoCpDwU,sNApDXnb,MAAQ,CAAEob,SAAU,EAAGC,QAAQ,KAsB/BC,eAAiB,WACb5Q,QAAQC,IAAI,sBADO,IAGXxG,EADSzE,EAAKzB,MAAd6c,KACA3W,OAERkV,GAAqBkC,YAAY,WAC1B7b,EAAKM,MAAMob,SAAWjX,EAAOrF,OAAS,EACrCY,EAAKU,SAAS,CAACgb,SAAU1b,EAAKM,MAAMob,SAAW,KAE/CI,cAAcnC,IACd3Z,EAAKzB,MAAMwd,aAEhB,yFA/BA7b,KAAK3B,MAAMod,SAAWzb,KAAKI,MAAMqb,SAChCzb,KAAKQ,SAAS,CAACib,OAAQzb,KAAK3B,MAAMod,SAE/Bzb,KAAK3B,MAAMod,QACVzb,KAAK0b,+DAMV1b,KAAK3B,MAAMod,SAAWzb,KAAKI,MAAMqb,SAChCzb,KAAKQ,SAAS,CAACib,OAAQzb,KAAK3B,MAAMod,SAE/Bzb,KAAK3B,MAAMod,QACVzb,KAAK0b,mDAoBR,IAAAxX,EAC6BlE,KAAK3B,MAA/B6c,EADHhX,EACGgX,KAAMO,EADTvX,EACSuX,OAAQ3X,EADjBI,EACiBJ,QACd0X,EAAaxb,KAAKI,MAAlBob,SACJ3c,EAAY,wBAIhB,OAHAA,GAAaiF,EAAU,WAAa,IACpCjF,GAAa4c,EAAS,UAAY,IAG9B/c,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GACZH,EAAAC,EAAAC,cAACkd,GAAD,CAAUX,cAAeK,EAAUN,KAAMA,EAAME,gBAAc,YA/C/Cna,IAAMc,YK2CrBga,8MAvCX3b,MAAQ,CAAE4b,MAAO,GAAIC,cAAe,KAQpCC,kBAAoB,WAChBpR,QAAQC,IAAI,mBAAoBjL,EAAKM,MAAM6b,aAAcnc,EAAKM,MAAM4b,MAAM9c,QACvEY,EAAKM,MAAM6b,aAAenc,EAAKM,MAAM4b,MAAM9c,OAAS,EACnDY,EAAKU,SAAS,CAACyb,aAAcnc,EAAKM,MAAM6b,aAAe,IAEvDnc,EAAKzB,MAAMwd,+FAXA,IAAA3X,EACUlE,KAAK3B,MAAtB2d,EADO9X,EACP8X,MAAOtU,EADAxD,EACAwD,MAEf1H,KAAKQ,SAAS,CAACwb,QAAOC,aAAcvU,qCAY/B,IAAAvG,EAAAnB,KAAAwC,EAC2BxC,KAAKI,MAA7B4b,EADHxZ,EACGwZ,MAAOC,EADVzZ,EACUyZ,aACTE,EAAYF,GAAgB,EAAhB,GAAAvb,QAAwB,IAAIub,EAA5B,KAA8C,IAEhE,OACIvd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAiCsF,MAAQ,CAAEiY,UAAS,cAAA1b,OAAgByb,EAAhB,OAE3DH,EAAMra,IAAK,SAACuZ,EAAMxT,GAAP,OACPhJ,EAAAC,EAAAC,cAACyd,GAAD,CACIvY,QAAS4D,GAASuU,EAClBR,OAAQ/T,IAAUuU,EAClBna,IAAKoZ,EAAKna,GAAIma,KAAMA,EACpBW,SAAU1a,EAAK+a,+BA/BnBjb,IAAMc,WC0GnBua,8MAjGXlc,MAAQ,CAAEqW,eAAe,EAAOC,UAAU,EAAOC,KAAM,EAAGqF,MAAO,GAAIO,YAAY,EAAON,cAAe,KAqBvGO,eAAiB,WAAM,IACX1T,EAAShJ,EAAKzB,MAAdyK,KACRhJ,EAAKU,SAAS,CAACkW,UAAU,IACzB,IAAMtK,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAOgK,KAAM7W,EAAKM,MAAMuW,MAE3Df,IAAMC,IAAIvS,EAAe,SAAU,CAAE8I,WACpCS,KAAK,SAAA7F,GAAY,IAAVgG,EAAUhG,EAAVgG,KACEgP,EAAQS,IAAE5b,OAAOmM,EAAM,SAAEkO,GAAF,OAAYA,EAAK3W,QAAU2W,EAAK3W,OAAOrF,QAAUgc,EAAKvU,UAAU5F,KAAO+H,EAAK/H,KAEzGjB,EAAKU,SAAS,CAACwb,MAAMxd,OAAAiC,EAAA,EAAAjC,CAAKsB,EAAKM,MAAM4b,OAAjBtb,OAAAlC,OAAAiC,EAAA,EAAAjC,CAA2Bwd,IAAQtF,UAAU,EAAOD,eAAe,EAAME,KAAM7W,EAAKM,MAAMuW,KAAO,GAAI,WAElH3J,EAAK9N,QAAU8c,EAAM9c,OAAS,GAC7BY,EAAK0c,qBAIhBtP,MAAM,SAACE,GACJtC,QAAQqC,MAAM,oBAAqBC,GACnCtN,EAAKU,SAAS,CAACiW,eAAe,EAAMC,UAAU,SAKtDyB,oBAAsB,SAACzY,GAEhBA,EAAMsE,iBAAmBlE,EAAKM,MAAMsW,UACnC5W,EAAK0c,oBAIbE,YAAc,SAACvC,GACXra,EAAKzB,MAAMse,YACX7c,EAAKU,SAAS,CAACyb,aAAc9B,wFAnDd,IAAAhZ,EAAAnB,KACP8I,EAAS9I,KAAK3B,MAAdyK,KAGR9I,KAAKQ,SAAS,CAACmM,MAAO7D,EAAK6D,OAAQ,WAC/BxL,EAAKqb,gEAMNxc,KAAK3B,MAAMke,aAAevc,KAAKI,MAAMmc,aACpCvc,KAAKQ,SAAS,CAAC+b,WAAYvc,KAAK3B,MAAMke,aAElCvc,KAAK3B,MAAMke,YACXvc,KAAKQ,SAAS,CAACyb,cAAe,sCAuCjC,IAAAjN,EAAAhP,KAAAwC,EAC8DxC,KAAKI,MAAhEgY,EADH5V,EACG4V,SAAU4D,EADbxZ,EACawZ,MAAOvF,EADpBjU,EACoBiU,cAAeC,EADnClU,EACmCkU,SAAUuF,EAD7CzZ,EAC6CyZ,aAD7C/X,EAE8BlE,KAAK3B,MAAhCyK,EAFH5E,EAEG4E,KAAM8T,EAFT1Y,EAES0Y,KAAML,EAFfrY,EAEeqY,WACdjd,EAAU,CACZ4D,SAAUlD,KAAKmY,oBACfE,KAAM,OACNpU,WAAU,WAGd,OACIvF,EAAAC,EAAAC,cAAA,OAAKC,UAAY,6BAA+B+d,EAAO,eAAiBL,EAAa,KAAQnE,EAAW,WAAa,KACjH1Z,EAAAC,EAAAC,cAAA,OAAKC,UAAY,iCAAmC+d,GAC/CnG,GACGuF,EAAMra,IAAK,SAACuZ,EAAMxT,GAAP,OACPhJ,EAAAC,EAAAC,cAAA,OAAKkD,IAAKoZ,EAAKna,GAAIlC,UAAU,uBAAuBuE,QAAS,kBAAM4L,EAAK0N,YAAYhV,KAChFhJ,EAAAC,EAAAC,cAACkd,GAAD,CAAUha,IAAKoZ,EAAKna,GAAIma,KAAMA,EAAMpS,KAAMA,QAMxD4N,GACEhY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAC6Z,GAAD,OAIN8D,GACE7d,EAAAC,EAAAC,cAACie,GAAD,CAAeb,MAAOA,EAAOtU,MAAOuU,EAAcJ,SAAU,kBAAMjY,OAAOyO,QAAQE,UAGnF7T,EAAAC,EAAAC,cAACyF,EAAA,EAAa/E,EACRZ,EAAAC,EAAAC,cAAA,OAAKuF,MAAO,CAACtB,OAAQ,QACjBhE,UAAU,qCA1FfoC,IAAMc,WCqCd+a,8MA5CX1c,MAAQ,CAAEwc,KAAM,OAAQL,YAAY,KAWpCQ,gBAAkB,WACdnZ,OAAOyO,QAAQC,UAAU,CAAC0K,gBAAkB,GAAO,iBAAkB,mBACrEld,EAAKU,SAAS,CAAC+b,YAAY,OAG/BU,iBAAmB,WACfnd,EAAKU,SAAS,CAAEoc,KAA0B,SAApB9c,EAAKM,MAAMwc,KAAkB,QAAU,6FAf9C,IAAAzb,EAAAnB,KACfL,SAASyB,iBAAiB,cAAe,SAACC,IAEE,IADvBuC,OAAOgR,SAAhBD,KACAxN,QAAQ,oBAA6BhG,EAAKf,MAAMmc,YACpDpb,EAAKX,SAAS,CAAC+b,YAAY,MAEhC,oCAYC,IACIzT,EAAS9I,KAAK3B,MAAdyK,KADJtG,EAEyBxC,KAAKI,MAA1Bwc,EAFJpa,EAEIoa,KAAML,EAFV/Z,EAEU+Z,WACd,OACI7d,EAAAC,EAAAC,cAACib,GAAD,CAAQb,KAAMuD,GACV7d,EAAAC,EAAAC,cAACkb,GAAD,CAAQnB,UAAQ,GACZja,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAhB,QAIAH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAEhBH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,8BAA8BuE,QAASpD,KAAKid,kBAC/C,SAATL,EAAkB,QAAU,OADlC,UAKJle,EAAAC,EAAAC,cAACse,GAAD,CAAUX,WAAaA,EAAaK,KAAOA,EAAO9T,KAAOA,EACrD6T,UAAW3c,KAAK+c,0BAvCjB9b,IAAMc,WCsGVob,sNArGX/c,MAAQ,CAAEqW,eAAe,EAAO2G,WAAW,EAAOzG,KAAM,EAAG0G,OAAQ,MAgBnEC,eAAiB,WACb1Z,OAAOyO,QAAQC,UAAU,CAACiL,mBAAqB,GAAO,oBAAqB,sBAC3Ezd,EAAKU,SAAS,CAAC4c,WAAW,OAG9BI,YAAc,WACV1d,EAAKU,SAAS,CAACkW,UAAU,IACzB,IAAMtK,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAOgK,KAAM7W,EAAKM,MAAMuW,MAE3Df,IAAMC,IAAIvS,EAAe,cAAe,CAAE8I,WACzCS,KAAK,SAAA7F,GAAY,IAAVgG,EAAUhG,EAAVgG,KACJlC,QAAQC,IAAI,sBAAuBiC,GACnClN,EAAKU,SAAS,CAAC6c,OAAO7e,OAAAiC,EAAA,EAAAjC,CAAKsB,EAAKM,MAAMid,QAAjB3c,OAAAlC,OAAAiC,EAAA,EAAAjC,CAA4BwO,IAAO0J,UAAU,EAAOD,eAAe,EAAME,KAAM7W,EAAKM,MAAMuW,KAAO,MAEzHzJ,MAAM,SAACE,GACJtC,QAAQqC,MAAM,oBAAqBC,GACnCtN,EAAKU,SAAS,CAACiW,eAAe,EAAMC,UAAU,0FA9BnC,IAAAvV,EAAAnB,KACf,GAAGA,KAAK3B,MAAMyK,KAAK,CACf,IAAMA,EAAO9I,KAAK3B,MAAMyK,KACxB9I,KAAKQ,SAAS,CAACsI,OAAM6D,MAAO7D,EAAK6D,OAAQ,kBAAMxL,EAAKqc,gBAGxD7d,SAASyB,iBAAiB,cAAe,SAACC,IAEK,IAD1BuC,OAAOgR,SAAhBD,KACAxN,QAAQ,uBAAgChG,EAAKf,MAAMgd,WACvDjc,EAAKX,SAAS,CAAC4c,WAAW,MAE/B,oCAuBC,IAAA5a,EACoCxC,KAAKI,MAArCsW,EADJlU,EACIkU,SAAU0G,EADd5a,EACc4a,UAAWC,EADzB7a,EACyB6a,OACvBtE,EAAUqE,EAAY,QAAU,OACtC,OACI1e,EAAAC,EAAAC,cAACib,GAAD,CAAQd,QAASA,GACbra,EAAAC,EAAAC,cAACkb,GAAD,CAAQnB,SAAUyE,EAAWK,SAAO,GAChC/e,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iCACTue,GACC1e,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACI1F,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBuE,QAAS,kBAAMQ,OAAOyO,QAAQE,SAC5D7T,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,mEAFzC,YAFR,iBAaAzH,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,qBAAqBlC,UAAU,QACnCH,EAAAC,EAAAC,cAAA,SAAOwE,QAASpD,KAAKsd,eAAgBra,KAAK,OAAOoG,YAAY,iCAIlE+T,GACC1e,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,iBAAiBlC,UAAU,iBAC/BH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,sBAAlB,UAIAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEfH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAlB,iBAOZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,cACFsc,EAAO1b,IAAK,SAAA+b,GAAM,OACZhf,EAAAC,EAAAC,cAAA,OAAKkD,IAAK4b,EAAO3c,GAAIlC,UAAU,gCAC3BH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAK+a,EAAOzW,GAAInE,IAAI,MAG7BpE,EAAAC,EAAAC,cAAA,YAAQ8e,EAAOxW,kBAM7BwP,GACEhY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAC6Z,GAAD,gBA7FLxX,IAAMc,YCyEd4b,sNAxEXvd,MAAQ,CAAEqW,eAAe,EAAOE,KAAM,EAAGiH,QAAS,MASlDC,aAAe,WACX/d,EAAKU,SAAS,CAACkW,UAAU,IACzB,IAAMtK,EAAS,CAAEO,MAAO7M,EAAKM,MAAMuM,MAAOgK,KAAM7W,EAAKM,MAAMuW,MAE3Df,IAAMC,IAAIvS,EAAe,cAAe,CAAE8I,WACzCS,KAAK,SAAA7F,GAAY,IAAVgG,EAAUhG,EAAVgG,KACJlC,QAAQC,IAAI,uBAAwBiC,GACpClN,EAAKU,SAAS,CAACod,QAAQpf,OAAAiC,EAAA,EAAAjC,CAAKsB,EAAKM,MAAMwd,SAAjBld,OAAAlC,OAAAiC,EAAA,EAAAjC,CAA6BwO,IAAO0J,UAAU,EAAOD,eAAe,EAAME,KAAM7W,EAAKM,MAAMuW,KAAO,MAE3HzJ,MAAM,SAACE,GACJtC,QAAQqC,MAAM,oBAAqBC,GACnCtN,EAAKU,SAAS,CAACiW,eAAe,EAAMC,UAAU,0FAlBnC,IAAAvV,EAAAnB,KACf,GAAGA,KAAK3B,MAAMyK,KAAK,CACf,IAAMA,EAAO9I,KAAK3B,MAAMyK,KACxB9I,KAAKQ,SAAS,CAACsI,OAAM6D,MAAO7D,EAAK6D,OAAQ,kBAAMxL,EAAK0c,mDAmBpD,IAAArb,EAC0BxC,KAAKI,MAA3BsW,EADJlU,EACIkU,SAAUkH,EADdpb,EACcob,QAClB,OACIlf,EAAAC,EAAAC,cAACib,GAAD,CAAQd,QAAQ,SACZra,EAAAC,EAAAC,cAACkb,GAAD,CAAQnB,UAAQ,EAAC8E,SAAO,GACpB/e,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAhB,UAGJH,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,iBAAiBlC,UAAU,iBAC/BH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,sBAAlB,SAIAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEfH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAlB,aAORH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAKmC,GAAG,eACF6c,EAAQjc,IAAK,SAAAmc,GAAM,OACbpf,EAAAC,EAAAC,cAAA,OAAKkD,IAAKgc,EAAO/c,GAAIlC,UAAU,gCAC3BH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKmb,EAAO7W,GAAInE,IAAI,MAG7BpE,EAAAC,EAAAC,cAAA,YAAQkf,EAAO5W,iBAKzBwP,GACEhY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAC6Z,GAAD,iBA/DZxX,IAAMc,4FCoDXgc,4LAjDP,OACIrf,EAAAC,EAAAC,cAACib,GAAD,CAAQd,QAAQ,QACZra,EAAAC,EAAAC,cAACkb,GAAD,CAAQnB,UAAQ,GACZja,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBAAhB,eAKJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACXH,EAAAC,EAAAC,cAAA,KAAGof,KAAK,iCAAiC3b,OAAO,SAAS4b,IAAI,sBAAsBpf,UAAU,eACzFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKub,KAAQpb,IAAI,MAE1BpE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,WAIJH,EAAAC,EAAAC,cAAA,KAAGof,KAAK,iCAAiC3b,OAAO,SAAS4b,IAAI,sBAAsBpf,UAAU,eACzFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKwb,KAAQrb,IAAI,MAE1BpE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,YAIJH,EAAAC,EAAAC,cAAA,KAAGof,KAAK,iCAAiC3b,OAAO,SAAS4b,IAAI,sBAAsBpf,UAAU,eACzFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKyb,KAAQtb,IAAI,MAE1BpE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,WAIJH,EAAAC,EAAAC,cAAA,KAAGof,KAAK,+BAA+B3b,OAAO,SAAS4b,IAAI,sBAAsBpf,UAAU,eACvFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAK0b,KAAMvb,IAAI,MAExBpE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mBAxCJoC,IAAMc,YC2Gfuc,sNA5GXle,MAAQ,CAAE0I,KAAM,GAAIyV,eAAe,EAAOC,aAAa,KAQvDC,iBAAmB,WAAM,IAAAva,EACSpE,EAAKzB,MAA3ByK,EADa5E,EACb4E,KAEFsD,EAAS,CAAEO,MAHIzI,EACPwa,YACY/R,MACFgS,QAAS7V,EAAK/H,IACtC6U,IAAMC,IAAIvS,EAAe,YAAa,CAAE8I,WACnCS,KAAK,SAAA7F,GAAY,IAAVgG,EAAUhG,EAAVgG,KACEe,EAAMf,EAAK,GACjBlC,QAAQC,IAAI,4BAA6BiC,GACzClN,EAAKU,SAAS,CAAE+d,eAAe,EAAMzV,KAAKtK,OAAA+Y,EAAA,EAAA/Y,CAAA,GAAKsB,EAAKM,MAAM0I,KAASiF,EAAIjF,UAE1EoE,MAAM,SAACE,GACJtC,QAAQqC,MAAM,2BAA4BC,GAC1CtN,EAAKU,SAAS,CAACiW,eAAe,SAI1CM,eAAiB,WAAM,IAAAX,EACWtW,EAAKzB,MAA3ByK,EADWsN,EACXtN,KAEFsD,EAAS,CAAEO,MAHEyJ,EACLsI,YACY/R,MACFgS,QAAS7V,EAAK/H,IACtC6U,IAAMC,IAAIvS,EAAe,cAAe,CAAE8I,WACrCS,KAAK,SAAAyH,GAAY,IAAVtH,EAAUsH,EAAVtH,KACJlC,QAAQC,IAAI,0BAA2BiC,GACpClN,EAAKzB,MAAMugB,eACV9e,EAAKzB,MAAMugB,gBAEf9e,EAAKU,SAAS,CAAEge,aAAa,EAAM1V,KAAKtK,OAAA+Y,EAAA,EAAA/Y,CAAA,GAAKsB,EAAKM,MAAM0I,KAAjB,CAAuBgO,MAAO9J,QAExEE,MAAM,SAACE,GACJtC,QAAQqC,MAAM,yBAA0BC,yFAlChDpN,KAAKQ,SAAS,CAACsI,KAAM9I,KAAK3B,MAAMyK,OAChC9I,KAAKye,mBACLze,KAAK+W,kDAoCA,IACG2H,EAAgB1e,KAAK3B,MAArBqgB,YADHlc,EAEwCxC,KAAKI,MAA1C0I,EAFHtG,EAEGsG,KAAMyV,EAFT/b,EAES+b,cAAeC,EAFxBhc,EAEwBgc,YACvB/W,GAAW8W,IAAkBC,EAC3BtX,EAA4B4B,EAA5B5B,aAAcD,EAAc6B,EAAd7B,GAAI6P,EAAUhO,EAAVgO,MAE1B,OACIpY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gDACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,OAAK+D,IAAKsE,EAAInE,IAAI,MAEtBpE,EAAAC,EAAAC,cAAA,UAAKsI,GAEHwX,EAAY3d,KAAO+H,EAAK/H,IACtBrC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,oBAAoBuE,QAASpD,KAAK3B,MAAMub,UAA1D,UAKFnS,GAAW/I,EAAAC,EAAAC,cAAC6Z,GAAD,CAAQpD,MAAI,IAGvBkJ,GACE7f,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACI1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACTiK,EAAK+V,WAEXngB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,cAIJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACTiK,EAAKgW,WAEXpgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,cAIJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACTiK,EAAK8U,SAEXlf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,aAML6f,EAAY3d,KAAO+H,EAAK/H,IACvBrC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAlB,YAQd2f,GAAe9f,EAAAC,EAAAC,cAACob,GAAD,CAAUpM,UAAQ,EAAC9E,KAAM4V,EAAa5H,MAAQA,YAvGrD7V,IAAMc,YC4EjBgd,uBA5EX,SAAAA,EAAY1gB,GAAM,IAAAyB,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAA+e,IACdjf,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAAugB,GAAA5e,KAAAH,KAAM3B,KAHV+B,MAAQ,CAAE0D,SAAS,EAAOkb,SAAS,EAAOC,OAAO,GAE/Bnf,EAyBlBof,mBAAqB,SAACxf,GAClBoL,QAAQC,IAAI,qBAAsBrL,GAC/BA,EAAMsE,eACLlE,EAAKU,SAAS,CAACye,OAAO,IAEtBnf,EAAKU,SAAS,CAACye,OAAO,KA9BZnf,EAkClBqf,YAAc,WACVvb,OAAOyO,QAAQE,QAnCDzS,EAsClBsf,iBAAmB,WACfze,WAAW,WACJb,EAAKzB,MAAMghB,SACVvf,EAAKzB,MAAMghB,WAChB,MAxCHvf,EAAKwf,eAAiBre,IAAMC,YAFdpB,mFAKC,IAAAqB,EAAAnB,KACfA,KAAKQ,SAAS,CAACsD,SAAS,IADT,IAGP/C,EAAOf,KAAK3B,MAAZ0C,GACR6C,OAAOyO,QAAQC,UAAf9T,OAAA4D,EAAA,EAAA5D,CAAA,GAA2BuC,GAAK,GAAOA,EAAI,IAAIA,GAE/CpB,SAASyB,iBAAiB,cAAe,SAACC,GAAM,IACpCsT,EAAS/Q,OAAOgR,SAAhBD,KACR7J,QAAQC,IAAI,uBAAwB4J,EAAMA,EAAKxN,QAAQpG,KAC9B,IAAtB4T,EAAKxN,QAAQpG,IAAcI,EAAKf,MAAM0D,UAClC3C,EAAKme,gBAAkBne,EAAKme,eAAelX,UAC1CjH,EAAKme,eAAelX,QAAQmX,UAAY,GAE5Cpe,EAAKX,SAAS,CAACwe,SAAS,GAAO,WAC3B7d,EAAKie,wBAGd,oCAwBH,IAAM9f,EAAU,CACZ4D,SAAUlD,KAAKkf,mBACf7G,KAAM,mBACNpU,WAAU,UAAAvD,OAAYkD,OAAO4b,YAAnB,OAJThd,EAM+BxC,KAAKI,MAAjC0D,EANHtB,EAMGsB,QAASmb,EANZzc,EAMYyc,MAAOD,EANnBxc,EAMmBwc,QANnB9a,EAO6BlE,KAAK3B,MAAlCohB,EAPAvb,EAOAub,cAAeC,EAPfxb,EAOewb,WAChBA,IACAA,EAAa,KAEjB,IAAMC,EAAK/b,OAAO4b,aAAeE,EAAa,IAE9C,OACIhhB,EAAAC,EAAAC,cAAA,OAAKC,UAAW,oBAAuBiF,EAAU,WAAa,KAASmb,EAAQ,SAAW,KAAQQ,EAAgB,kBAAoB,KAAST,EAAU,UAAY,KACjKtgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBuE,QAAUpD,KAAKmf,cACnDzgB,EAAAC,EAAAC,cAACyF,EAAA,EAAa/E,EACVZ,EAAAC,EAAAC,cAAA,OAAKwK,IAAKpJ,KAAKsf,eAAgBzgB,UAAU,0BACrCsF,MAAQ,CAAEiY,UAAS,eAAA1b,OAAkBif,EAAlB,SACnBjhB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,yBAAyBuE,QAAUpD,KAAKmf,aACtDzgB,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,4GAGnCnG,KAAK3B,MAAM4Q,mBAvEXhO,IAAMc,YC2CjB6d,WA5CG,SAAEvhB,GAAW,IACnBsY,EAAuBtY,EAAvBsY,KAAMkJ,EAAiBxhB,EAAjBwhB,aAEd,OACInhB,EAAAC,EAAAC,cAAA,OAAKC,UAAW,gDACZH,EAAAC,EAAAC,cAAA,UAAQC,UAAW,8CAA0D,SAAT8X,EAAkB,SAAW,IAC7FvT,QAAU,kBAAMyc,EAAa,UAC7BnhB,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,mDAAwDzH,EAAAC,EAAAC,cAAA,YAAUic,OAAO,2BAF9G,QAMAnc,EAAAC,EAAAC,cAAA,UAAQC,UAAW,8CAA0D,SAAT8X,EAAkB,SAAW,IAC7FvT,QAAU,kBAAMyc,EAAa,UAC7BnhB,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,YAAUic,OAAO,qCAF9C,QAMAnc,EAAAC,EAAAC,cAAA,UAAQC,UAAW,8CAA0D,aAAT8X,EAAsB,SAAW,IACjGvT,QAAU,kBAAMyc,EAAa,cAC7BnhB,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,UAAQqW,GAAG,KAAKC,GAAG,KAAKC,EAAE,MAAazW,EAAAC,EAAAC,cAAA,QAAMkc,GAAG,KAAKC,GAAG,KAAKC,GAAG,QAAQC,GAAG,WAFxG,YAMAvc,EAAAC,EAAAC,cAAA,UAAQC,UAAW,8CAA0D,UAAT8X,EAAmB,SAAW,IAC9FvT,QAAU,kBAAMyc,EAAa,WAC7BnhB,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMuH,EAAE,8LAFrC,SAMAzH,EAAAC,EAAAC,cAAA,UAAQC,UAAW,8CAA0D,SAAT8X,EAAkB,SAAW,IAC7FvT,QAAU,kBAAMyc,EAAa,UAC7BnhB,EAAAC,EAAAC,cAAA,OAAKsH,QAAQ,aAAYxH,EAAAC,EAAAC,cAAA,QAAMkhB,EAAE,IAAIC,EAAE,IAAIrW,MAAM,IAAI7G,OAAO,MAAWnE,EAAAC,EAAAC,cAAA,QAAMkhB,EAAE,KAAKC,EAAE,IAAIrW,MAAM,IAAI7G,OAAO,MAAWnE,EAAAC,EAAAC,cAAA,QAAMkhB,EAAE,KAAKC,EAAE,KAAKrW,MAAM,IAAI7G,OAAO,MAAWnE,EAAAC,EAAAC,cAAA,QAAMkhB,EAAE,IAAIC,EAAE,KAAKrW,MAAM,IAAI7G,OAAO,OAF9M,WC+HGmd,8MA3IX5f,MAAQ,CAACuW,KAAM,OAAQ7N,KAAM,GAAImX,YAAa,KAAMC,wBAAwB,EAAOC,cAAc,KAwBjGC,+BAAY,SAAA5U,IAAA,IAAA6U,EAAA,OAAA3U,EAAA/M,EAAAgN,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACmBwU,aAAaC,QAAQ,WADxC,OACFF,EADEzU,EAAAK,KAERnM,EAAKU,SAAS,CAAC2f,cAAc,IAEV,MAAhBE,GACHvgB,EAAKU,SAAS,CAACsI,KAAMP,KAAKC,MAAM6X,KALxB,wBAAAzU,EAAAO,SAAAX,EAAAxL,WASZwgB,yBAA2B,WACvB1gB,EAAKU,SAAS,CAAC0f,wBAAwB,OAG3CO,MAAQ,SAAAnM,GAA0B,IACxBlI,EAAS,CAACnK,SADcqS,EAAxBrS,SACoBC,SADIoS,EAAdpS,UAEhB0T,IAAM,CACFM,OAAQ,OACR5Q,IAAK,qCACL8G,WAEHS,KAAM,SAAAE,GACH,IAAM2T,EAAS3T,EAASC,KAExB,GAAI0T,EAAOnM,OAAX,CAHe,IAQTzL,EAAgB4X,EAAhB5X,KAAM6D,EAAU+T,EAAV/T,MACZ7D,EAAK6D,MAAQA,EACb2T,aAAaK,QAAQ,UAAWpY,KAAKE,UAAUK,IAE/ChJ,EAAKU,SAAS,CAACsI,cARXrJ,EAAQnB,EAAa,yBAU5B4O,MAAO,SAAAE,GACJtC,QAAQqC,MAAM,cAAeC,GAC7B3N,EAAQnB,EAAa,4BAI7BsiB,OAAS,WACLN,aAAaO,WAAW,WACxB/gB,EAAKU,SAAS,CAACyf,YAAa,KAAME,cAAc,EAAMrX,KAAM,UAGhEgY,iBAAmB,WACfhhB,EAAKU,SAAS,CAACyf,YAAa,UAGhCc,gBAAkB,SAAEC,GAChB,IAAMlY,EAAOkY,GAAalhB,EAAKM,MAAM0I,KACrChJ,EAAKU,SAAS,CAACyf,YAAanX,OAGhCmY,QAAU,SAAEtK,GAA4B,IAAtBuK,IAAsBjiB,UAAAC,OAAA,QAAA8S,IAAA/S,UAAA,KAAAA,UAAA,GACpCa,EAAKU,SAAS,CAAEmW,SACbuK,GACCtd,OAAOyO,QAAQC,UAAU,CAACqE,GAAOA,EAAM,IAAMA,wFA9EjD3W,KAAKogB,wDAGU,IAAAjf,EAAAnB,KACfA,KAAK0U,YAAa,EAClB1U,KAAKihB,QAAQ,QAEbrd,OAAOud,WAAa,WAChBxhB,SAASC,cAAc,IAAIL,YAAY,gBACvCuL,QAAQC,IAAI,iBAFU,IAMlB4L,EAFiB/S,OAAOgR,SAApBwM,SAEYC,UAAU,IAC9B1K,EAAOA,EAAK0K,UAAU,EAAG1K,EAAKxP,QAAQ,SAE1BhG,EAAKf,MAAMuW,MACnBxV,EAAK8f,QAAQtK,GAAM,qCAiEtB,IAAAnU,EACqExC,KAAKI,MAAvEuW,EADHnU,EACGmU,KAAM7N,EADTtG,EACSsG,KAAMqX,EADf3d,EACe2d,aAAcF,EAD7Bzd,EAC6Byd,YAAaC,EAD1C1d,EAC0C0d,uBACzCoB,EAAiBxY,GAAQA,EAAK/H,IAAM+H,EAAK6D,MAC/C,OACIjO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiB0iB,QAAQ,YACpC7iB,EAAAC,EAAAC,cAAC4iB,EAAD,MACA9iB,EAAAC,EAAAC,cAAA,aACO0iB,GAAkBnB,GACjBzhB,EAAAC,EAAAC,cAAC6iB,EAAD,CAAO3Y,KAAMA,EAAMzF,QAASrD,KAAKygB,QAGnCa,GACE5iB,EAAAC,EAAAC,cAACF,EAAAC,EAAMyF,SAAP,KACe,SAATuS,GACEjY,EAAAC,EAAAC,cAAC8iB,GAAD,CACI5Y,KAAOA,EACP6Q,cAAgB3Z,KAAK+gB,gBACrBnH,SAAW5Z,KAAK4gB,OAChBtW,WAAYtK,KAAK+gB,kBAGd,SAATpK,GACEjY,EAAAC,EAAAC,cAAC+iB,GAAD,CAAM7Y,KAAOA,IAGN,aAAT6N,GACEjY,EAAAC,EAAAC,cAACgjB,GAAD,CAAU9Y,KAAOA,IAGV,UAAT6N,GACEjY,EAAAC,EAAAC,cAACijB,GAAD,CAAO/Y,KAAOA,IAGP,SAAT6N,GACEjY,EAAAC,EAAAC,cAACkjB,GAAD,CAAWhZ,KAAOA,IAGpBmX,GACEvhB,EAAAC,EAAAC,cAACmjB,GAAD,CAAahhB,GAAG,cAAc0e,cAAeS,EAAwBR,WAAY,IAAKL,QAASrf,KAAK8gB,kBAChGpiB,EAAAC,EAAAC,cAACojB,GAAD,CAAapI,SAAU5Z,KAAK4gB,OAAQhC,cAAe5e,KAAKwgB,yBAA0B9B,YAAc5V,EAAOA,KAAMmX,KAIrHvhB,EAAAC,EAAAC,cAACqjB,GAAD,CAAWtL,KAAMA,EAAMkJ,aAAe7f,KAAKihB,oBAjIrDhgB,IAAMc,WCRlBmgB,GAAcC,QACW,cAA7Bve,OAAOgR,SAASwN,UAEe,UAA7Bxe,OAAOgR,SAASwN,UAEhBxe,OAAOgR,SAASwN,SAASnd,MACvB,2DAsCN,SAASod,GAAgBC,EAAO9V,GAC9B8B,UAAUiU,cACPC,SAASF,GACTzV,KAAK,SAAA4V,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBviB,QACfkO,UAAUiU,cAAcO,YAI1BhY,QAAQC,IACN,gHAKEyB,GAAUA,EAAOuW,UACnBvW,EAAOuW,SAASN,KAMlB3X,QAAQC,IAAI,sCAGRyB,GAAUA,EAAOwW,WACnBxW,EAAOwW,UAAUP,UAO5BvV,MAAM,SAAAC,GACLrC,QAAQqC,MAAM,4CAA6CA,KC3FjE8V,IAASC,OAAOxkB,EAAAC,EAAAC,cAACukB,GAAD,MAASxjB,SAASyjB,eAAe,SDiB1C,SAAkB5W,GACvB,GAA6C,kBAAmB8B,UAAW,CAGzE,GADkB,IAAIkB,IAAI6T,IAAwBzf,OAAOgR,SAASoJ,MACpDsF,SAAW1f,OAAOgR,SAAS0O,OAIvC,OAGF1f,OAAOxC,iBAAiB,OAAQ,WAC9B,IAAMkhB,EAAK,GAAA5hB,OAAM2iB,IAAN,sBAEPnB,IAgEV,SAAiCI,EAAO9V,GAEtC+W,MAAMjB,GACHzV,KAAK,SAAAE,GAEJ,IAAMyW,EAAczW,EAASN,QAAQoJ,IAAI,gBAEnB,MAApB9I,EAASwH,QACO,MAAfiP,IAA8D,IAAvCA,EAAYrc,QAAQ,cAG5CmH,UAAUiU,cAAckB,MAAM5W,KAAK,SAAA4V,GACjCA,EAAaiB,aAAa7W,KAAK,WAC7BjJ,OAAOgR,SAAS+O,aAKpBtB,GAAgBC,EAAO9V,KAG1BU,MAAM,WACLpC,QAAQC,IACN,mEArFA6Y,CAAwBtB,EAAO9V,GAI/B8B,UAAUiU,cAAckB,MAAM5W,KAAK,WACjC/B,QAAQC,IACN,+GAMJsX,GAAgBC,EAAO9V,MCxC/B+V,uBCVAsB,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.e09e05db.chunk.js","sourcesContent":["import React from 'react';\n\nconst NotificationItem = (props) => {\n    const { notification } = props\n    const { message, ...options } = notification;\n    return ( \n        <div className=\"notif show\" dangerouslySetInnerHTML={{ __html: message }}></div>\n    );\n}\n \nexport default NotificationItem;","import React from 'react';\n\nimport './notifications.css';\nimport NotificationItem from './NotificationItem';\n\nexport const notification = (message, ...rest) => {\n    const options = rest && rest.length ? rest[0] : {};\n    return new CustomEvent('ot-notification', { detail: { message, options: options } })\n}\n\nexport const notify = ( event ) => {\n    document.dispatchEvent(event);\n}\n\nclass Notifications extends React.Component {\n    state = { notifications: [] }\n    constructor(props){\n        super(props);\n        this.wrapper = React.createRef();\n    }\n\n    componentDidMount(){\n        document.addEventListener('ot-notification', (e) => {\n            const _notification = e.detail;\n            _notification.id = 'ot-notif-' + Math.random().toString(36).substr(2, 5);\n\n            this.showNotification(_notification)\n        }, false);\n    }\n\n    showNotification = (_notification) => {\n        this.setState({ notifications: [ ...this.state.notifications, _notification] }, () => {\n            setTimeout(() => {\n                const _notifications = [...this.state.notifications].filter( ( n ) => n.id !== _notification.id);\n                this.setState({ notifications: _notifications });\n            }, 3000);\n        });\n    }\n\n    render() { \n        const { notifications } = this.state;\n        return ( \n            <div className=\"ot-notifications-wrapper\">\n                { notifications.reverse().map( (n, i) => <NotificationItem key={i} notification={n} />) }\n            </div>\n        );\n    }\n}\n \nexport default Notifications;","import React from 'react';\n\nimport \"./login.css\";\nimport logo from \"./logo.png\";\n\nclass Login extends React.Component {\n    state = { username: \"\", password: \"\" }\n\n    inputChanged = (e) => {\n        this.setState({[e.target.name] : e.target.value})\n    };\n\n    render() { \n        const { username, password } = this.state;\n        const isValid = username.length > 0 && password.length > 0;\n        return (\n            <div className=\"ot-login-page\">\n                <form className=\"ot-login-form\" autoComplete=\"off\">\n                    <div className=\"ot-login-title layout center\">\n                        <img src={logo} height=\"50px\" alt=\"\"/>\n                        Otalk Login\n                    </div>\n\n                    <div className=\"ot-input-box\">\n                        <input autoFocus autoComplete=\"off\" id=\"username\" className={ username.length ? 'valid' : '' }\n                            required type=\"text\" name=\"username\"\n                            value={username} \n                            onChange={this.inputChanged} />\n                        <label htmlFor=\"username\">Username</label>\n                    </div>\n\n                    <div className=\"ot-input-box\">\n                        <input autoComplete=\"off\" id=\"password\" className={ password.length ? 'valid' : '' }\n                            required type=\"password\" name=\"password\"\n                            value={password} \n                            onChange={this.inputChanged} />\n                        <label htmlFor=\"password\">Password</label>\n                    </div>\n\n                    <button type=\"button\" className={ 'ot-btn primary rounded ' + ( !isValid ? 'disabled' : '' ) }\n                        onClick={() => this.props.onLogin({username, password})}>LOGIN</button>\n                </form>\n            </div>\n        );\n    }\n}\n \nexport default Login;","export const LOGIN_URL = \"https://www.olbongo.com/api/login\"\nexport const API_BASE_URL = \"https://www.olbongo.com/api/otalk\"\nexport const MOBILE_WIDTH = 541","import React from 'react';\n\nimport './popups.css';\n\nexport const confirm = ( title, message, action, callback ) => {\n    callback(window.confirm(message));\n}\n\nexport const alert = ( title, message ) => {\n    window.alert(message);\n}","import React from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nclass Image extends React.Component{\n    state = { visible: false, src: null };\n    \n    handleImageInView = (e) => {\n        if(e.isIntersecting){\n            // console.log(\"Image is in view,\", e.isIntersecting, this.props.src);\n            this.setState({visible: true, src: this.props.src});\n        }\n    }\n\n    render(){\n        const options = {\n            onChange: this.handleImageInView,\n            rootMargin: `0% 0%`,\n        };\n        const { src } = this.state;\n        const { className, style } = this.props;\n\n        return (\n            <React.Fragment>\n                <Observer { ...options }>\n                    <img style={style} className={className} src={src} alt=\"\"/>\n                </Observer>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Image;","import React from 'react';\nimport Image from '../../../../components/Image';\n\nconst PostImage = ( props ) => {\n    const { images } = props;\n    let templateClass = '';\n    let extras = ''; \n\n    if(images.length > 1){\n        switch (images.length) {\n            case 2:\n                templateClass = 'two';\n                break;\n            case 3:\n                templateClass = 'three';\n                break;\n            case 4:\n                templateClass = 'four';\n                break;\n            case 5:\n                templateClass = 'five';\n                break;\n        \n            default:\n                templateClass = 'four';\n                break;\n        }\n        templateClass += '-image-grid';\n\n        if(images.length > 5)\n            templateClass += ' has-more';\n    \n        extras = images.length > 5 ? images.length - 4 : '';\n    }\n\n    const shown_image_count = images.length > 5 ? 4 : images.length;\n\n    return ( \n        <div className={'ot-post-images ' + templateClass } extras={extras}>\n            {   \n                images.slice(0, shown_image_count).map( i => \n                    <div key={i.id} className=\"ot-post-image\">\n                        <Image src={i.photo} />\n                    </div>\n                )\n            }\n        </div>\n    );\n}\n \nexport default PostImage;","import React from 'react';\n\nexport function _parseYoutubeURL(str){\n    var pattern = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/;\n    \n    if(!pattern.test(str)) {\n        return false;\n    } else {\n        var reg = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/\n        return str.match(reg);\n    }\n}\n\nexport function _getEmbedUrl(url) {\n    return `https://www.youtube.com/embed/${url}?rel=0&amp;showinfo=0`;\n}\n\nconst PostVideo = ( props ) => {\n    const { video } = props;\n    const is_youtube_url = video ? _parseYoutubeURL(video.video) : false;\n\n    let url = \"\";\n    let embed = \"\";\n    \n    if(is_youtube_url){\n        url = is_youtube_url[2];\n        embed = _getEmbedUrl(url);\n    }\n\n    return ( \n        <div className={'ot-post-video ' + ( is_youtube_url ? 'for-youtube' : '' )}>\n            { is_youtube_url && <iframe title=\"post video\" src={embed} frameBorder=\"0\" allow=\"autoplay; encrypted-media\" allowFullScreen></iframe> }\n            { video && !is_youtube_url && \n                (\n                    <video controls>\n                        <source src={video.video} />\n                    </video>\n                )\n            }\n        </div>\n    );\n}\n \nexport default PostVideo;","import React from 'react';\n\nimport './post-media.css';\n\nimport PostImages from \"./PostImages\";\nimport PostVideo from \"./PostVideo\";\n\nconst PostMedia = (props) => {\n    const { images, videos } = props;\n\n    return ( \n        <div className=\"ot-post-media\">\n            {/* <PostImages images={images} /> */}\n            {/* <PostVideo videos={videos} /> */}\n            { images.length > 0 && (<PostImages images={images} /> ) }\n            { !images.length && videos.length > 0 && ( <PostVideo video={videos[0]} /> )}\n        </div>\n    );\n}\n \nexport default PostMedia;","import React from 'react';\n\nexport const FavoritedIcon = () => {\n    return (<svg fill=\"#ffa200\" className=\"ot-post-like-icon\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/></svg>);\n}\n \nexport const FavoriteIcon = () => {\n    return (<svg fill=\"#656565\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\"/></svg>);\n}\n\nexport const FavToggle = (props) => {\n    return ( \n        <React.Fragment>{ props.faved ? <FavoritedIcon key=\"favorited_icon\" /> : <FavoriteIcon key=\"favorite_icon\" /> }</React.Fragment>\n    );\n}","import React from 'react';\nimport { FavToggle } from '../../../../Utils';\n\nconst PostComment = ( props ) => {\n    const { comment } = props;\n    const { id, published_at, publisher, author, content, is_liked } = comment;\n    const { dp, display_name } = publisher || author;\n\n    return ( \n        <div className={'ot-post-comment layout ' + ( id.toString().indexOf('ot-temp-id') !== -1 ? 'temp' : '' )}>\n            <div className=\"ot-dp small\">\n                <img src={dp} alt=\"\"/>\n            </div>\n            <p>\n                <strong>{ display_name }</strong>&nbsp;\n                <span dangerouslySetInnerHTML={{ __html: content }}></span>\n            </p>\n\n            <button className=\"ot-comment-liker ot-btn action\" onClick={ props.onToggleLiked }>\n                { <FavToggle faved={is_liked} /> }\n            </button>\n        </div>\n    );\n}\n \nexport default PostComment;","import React from 'react';\nimport './post-comments.css';\n\nimport PostComment from \"./PostComment\";\n\nclass PostComments extends React.Component {\n    render() { \n        const { fetched, comments, loading } = this.props;\n\n        return ( \n            <div className=\"ot-post-comments\">\n                {comments.length > 0 && (\n                   comments.map( (comment, index) => \n                        <PostComment \n                            key={comment.id} \n                            comment={comment} \n                            onToggleLiked={() => this.props.onToggleCommentLiked(index) } />) \n                        \n                )}\n\n                { loading && (\n                    <span className=\"ot-comments-loader\">\n                        { comments.length > 0 ? 'loading more comments....' : 'loading comments....'}\n                    </span>\n                ) }\n                \n                { !loading && comments.length < 1 && (\n                    <span className=\"ot-comments-loader\">\n                        No comments\n                    </span>\n                ) }\n            </div>\n        );\n    }\n}\n \nexport default PostComments;","import React from 'react';\nimport { FavoriteIcon, FavoritedIcon } from '../../../../Utils';\nimport { MorphReplace } from 'react-svg-morph';\nimport TextareaAutosize from 'react-autosize-textarea/lib';\n\nimport './post-commenter.css';\n\nclass PostCommenter extends React.Component {\n    constructor(props) {\n        super(props);\n        this.inputField = React.createRef();\n        this.state = { comment: '', animate_icon: true };\n    }\n\n    componentDidMount(){\n        if(this.props.autofocus && this.inputField){\n            this.inputField.current.textarea.focus();\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({comment: event.target.value});\n        // const bold = /\\*(.*)\\*/;\n        // const boldeds = value.match(bold);\n        // console.log(value.replace(/\\*([^*]+)\\*/g , '<b>$1</b>'));\n        // // for(var bolded in boldeds) {\n        // //     console.log(bolded, \"\\n\\n\");\n        // // }\n    }\n    \n    handleKeyup = (event) => {\n        if(event.key === 'Enter' && this.state.comment.length)\n            this.sendComment();\n    }\n\n    addQuickEmoji = (e) => {\n        this.setState({ comment: this.state.comment + e.target.innerText });\n        this.inputField.current.textarea.focus();\n    }\n\n    sendComment = () => {\n        const state_copy = JSON.parse(JSON.stringify(this.state));\n        const comment = state_copy.comment.replace(/\\*([^*]+)\\*/g , '<b>$1</b>');\n        // return console.log(comment);\n        if(comment.length){\n            this.props.onNewComment(comment);\n            this.setState({comment : \"\"});\n        }\n    }\n\n    render(){\n        const { comment, animate_icon } = this.state;\n        // const formatted_comment = comment.replace(/\\*([^*]+)\\*/g , '<b>$1</b>');\n        const { user, faved, quickemojis } = this.props;\n\n        const animation_duration = animate_icon ? 500 : 0;\n\n        return (\n            <React.Fragment>\n                { quickemojis &&\n                    <div id=\"quickEmojis\" className=\"layout\">\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"rotfl\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"lol\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"thanks\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"respect\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"wink\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"hmmm\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"angry\"></span>\n                        <span onClick={this.addQuickEmoji} role=\"img\" aria-label=\"watching\"></span>\n                    </div> \n                }\n                <div className=\"ot-post-commenter layout center\">\n                    <div className=\"ot-dp small self-start\">\n                        <img src={user.dp} alt=\"\" />\n                    </div>\n\n                    <TextareaAutosize\n                        ref={this.inputField} \n                        placeholder=\"Write a Comment\" \n                        className=\"flex input\" rows={1}\n                        onChange={this.handleChange}\n                        onKeyUp={this.handleKeyup}\n                        onClick={this.props.onFocused}\n                        value={comment} />\n\n                    {/* <ContentEditable\n                        tagName=\"div\"\n                        className=\"flex input\"\n                        content={comment}\n                        editable={true}\n                        multiLine={false}\n                        onChange={this.handleChange} /> */}\n\n                    {/* <input className=\"flex\" type=\"text\" placeholder=\"Write a Comment\" \n                        value={comment} \n                        onChange={this.handleChange}\n                        onKeyUp={this.handleKeyup} /> */}\n\n                    <div className={'ot-post-commenter-actions self-end' + ((!comment.length && this.props.onToggleLiked) ? ' can-like' : '')}>\n                        <button className={ 'ot-btn flat ' + ( !comment.length ? 'disabled' : '' ) } onClick={ this.sendComment } >\n                            POST\n                        </button>\n                        <button className=\"ot-post-liker ot-btn action\" onClick={ this.props.onToggleLiked }>\n                            <MorphReplace width={20} height={20} duration={animation_duration} rotation={'none'}>\n                                { faved ? <FavoritedIcon key=\"favorited_icon\" /> : <FavoriteIcon key=\"favorite_icon\" /> }\n                            </MorphReplace>\n                        </button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n \nexport default PostCommenter;","import React from 'react';\n\nimport './post-item.css';\n\nimport PostMedia from \"./PostMedia\";\n\nimport PostComments from \"./PostComments\";\nimport PostCommenter from \"./PostCommenter\";\nimport { MOBILE_WIDTH } from '../../../constants';\n\nconst PostItem = (props) => {\n    const { user, post } = props;\n    const { fetching_comments, is_liked, publisher, published_at, content, images, videos, comments, total_likes, total_commenets } = post;\n    const total_comments = total_commenets;\n    const owned = publisher.id === user.id;\n    \n    let like_text = total_likes + ' Like';\n    like_text += ( total_likes !== 1) ? 's' : '';\n    \n    let comment_text = total_comments + ' Comment';\n    comment_text += ( total_comments !== 1) ? 's' : '';\n\n    function handleShowComments(){\n        if(comments && total_comments > 0 && total_comments !== comments.length)\n            props.onShowComments()\n    }\n\n    function handleCommenterInputClicked(){\n        console.log(\"Innerwidth:\", window.innerWidth);\n        if(window.innerWidth < MOBILE_WIDTH)\n            props.onShowComments();\n    }\n\n    return ( \n        <div className=\"ot-post-item\">\n            <div className=\"ot-post-item-title layout center\">\n                <div className=\"ot-dp\" onClick={props.onViewUser}>\n                    <img src={publisher.dp} alt=\"\" />\n                </div>\n                \n                <div>\n                    <span className=\"ot-post-item-owner\" onClick={props.onViewUser}>\n                        { publisher.display_name }\n                    </span>\n                    <span className=\"ot-post-item-date\">\n                        { published_at }\n                    </span>\n                </div>\n\n                {/* { !owned && \n                    (\n                        <button className=\"ot-btn ot-follow-btn flat primary\">\n                            Follow\n                        </button>\n                    )\n                } */}\n\n                <span className=\"flex\"></span>\n\n                { owned &&  \n                    <div className=\"ot-post-manager\">\n                        <button className=\"ot-post-options-btn ot-btn action\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/></svg>\n                        </button>\n\n                        <div className=\"ot-post-manager-options\">\n                            <button onClick={props.onEditPost} className=\"ot-btn flat\">Edit</button>\n                            <button onClick={props.onDeletePost} className=\"ot-btn flat\">Delete</button>\n                        </div>\n                    </div>\n                }\n            </div>\n            \n            <p className=\"ot-post-item-content\">\n                { content }\n            </p>\n\n            { (images.length > 0 || videos.length > 0) && (<PostMedia images={images} videos={videos} />) }\n\n            <div className=\"ot-post-reactions\">\n                <small>{ like_text }</small>\n                <span></span>\n                <small className={total_comments > 0 && total_comments !== comments.length ? 'can-click' : ''}\n                    onClick={ handleShowComments }>{ comment_text }</small>\n            </div>\n\n            { ((comments && comments.length > 0) || fetching_comments) && (\n                <PostComments comments={comments} loading={fetching_comments}\n                    onToggleCommentLiked={props.onToggleCommentLiked} />\n            ) }\n\n            <PostCommenter \n                user={user} faved={is_liked}\n                onToggleLiked={ props.onToggleLiked }\n                onFocused={ handleCommenterInputClicked }\n                onNewComment = { props.onNewComment } />\n        </div>\n    );\n}\n \nexport default PostItem;","import React from 'react';\nimport workerize from 'workerize'\nimport { post } from 'axios'\n\nimport { API_BASE_URL } from \"../../../../constants\";\n\nclass NewPostImage extends React.Component {\n    state = { was_setup: false };\n    // ctx;\n    // constructor(props){\n    //     super(props);\n    //     this.canvas = React.createRef();\n    //     this.ctx = this.canvas.getContext('2d')\n    // }\n\n    componentDidMount(){\n        this.handleIncomingImage();\n    }\n\n    componentWillReceiveProps(props){\n        this.handleIncomingImage(props);\n    }\n\n    handleIncomingImage = (props) => {\n        const { image } = props || this.props;\n        const { file, src } = image;\n\n        if(!this.state.was_setup && image){\n            this.setState({ image, was_setup: true })\n\n            if(file){\n                this.processImage(file);\n                this.uploadImage(file);\n                // loader(file).then(img => {\n                    // console.log(\"Loaded image\", img);\n                    // this.props.onImageLoaded(img);\n                    // this.ctx.drawImage(img, 0, 0, ctx.canvas.width, ctx.canvas.height);\n                // });\n            }else if(src){\n                this.uploadImage(src);\n            }\n        }\n    }\n\n    processImage = async ( image ) => {\n        let worker = workerize(`\n            export function load(file) {\n                return new Promise((resolve, reject) => {\n                    var reader = new FileReader();\n                    reader.onload = function(e) {\n                        resolve(e.target.result);\n                    }\n                    reader.readAsDataURL(file);\n                });\n            }\n        `);\n        const src = await worker.load(image);\n        this.props.onImageLoaded(src);\n    }\n\n    fileUpload(url, file, name, params){\n        const formData = new FormData();\n        formData.append(name, file)\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            },\n            params\n        }\n        return  post(url, formData, config)\n    }\n\n    uploadImage(file){\n        const params = { token: this.props.token };\n        this.fileUpload(API_BASE_URL + '/upload_post_images/', file, 'photo', params)\n            .then(({data}) => {\n                const response = data.images[0];\n                console.log(\"Upload image result: \", response);\n                this.props.onImageUploaded( response );\n            })\n            .catch((error) => {\n                let err = \"\";\n                if (error.response) {\n                    err = error.response.data;\n                } else if (error.request) {\n                    err = error.request;\n                } else {\n                    err = error.message;\n                }\n\n                console.error(\"Upload image Error\", err);;\n            });\n    }\n\n    render() {\n        const { image } = this.props;\n        const { id, src, photo, loading } = image;\n        const is_temp = id.toString().indexOf('ot-temp-id') !== -1;\n        // const is_temp = false;\n        return ( \n            <div className={'ot-new-post-image ' + ( loading ? 'loading' : '' ) + ( is_temp ? ' is-temp' : '' )}>\n                <img src={src || photo} alt=\"\"/>\n                <button className=\"ot-btn action\" onClick={this.props.onRemoveImage}>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                </button>\n            </div>\n        );\n    }\n}\n \nexport default NewPostImage;","import React from 'react';\nimport { post } from 'axios'\n\nimport { API_BASE_URL } from \"../../../../constants\";\nimport PostVideo from '../../PostItem/PostMedia/PostVideo';\n\nclass NewPostVideo extends React.Component {\n    state = { was_setup: false };\n\n    componentWillReceiveProps(props){\n        const { video } = props;\n\n        // if(!this.state.was_setup && video){\n        //     this.setState({ video, was_setup: true })\n        //     this.uploadVideo(video.video);\n        // }\n    }\n\n    videoUpload(url, video, params){\n        const formData = new FormData();\n        formData.append('video', video)\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            },\n            params\n        }\n        return  post(url, formData, config)\n    }\n\n    uploadVideo(video){\n        const params = { token: this.props.token };\n        this.videoUpload(API_BASE_URL + '/upload_post_videos/', video, params)\n            .then(({data}) => {\n                // const response = data.videos[0];\n                console.log(\"Upload video result: \", data);\n                // this.props.onVideoUploaded( response );\n            })\n            .catch((error) => {\n                let err = \"\";\n                if (error.response) {\n                    err = error.response.data;\n                } else if (error.request) {\n                    err = error.request;\n                } else {\n                    err = error.message;\n                }\n\n                console.error(\"Upload video Error\", err);;\n            });\n    }\n\n    render() {\n        const { video } = this.props;\n        const { id, loading } = video;\n        // const is_temp = id.toString().indexOf('ot-temp-id') !== -1;\n        const is_temp = false;\n        return ( \n            <div className={'ot-new-post-video ' + ( loading ? 'loading' : '' ) + ( is_temp ? ' is-temp' : '' )}>\n                <PostVideo video={video} />\n                <button className=\"ot-btn action\" onClick={this.props.onRemoveVideo}>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                </button>\n            </div>\n        );\n    }\n}\n \nexport default NewPostVideo;","import React from 'react';\n\nimport NewPostImage from \"./NewPostImage\";\nimport NewPostVideo from \"./NewPostVideo\";\n\nconst NewPostMedia = ( props ) => {\n    const { readonly, images, videos, token } = props;\n    const video = videos && videos.length ? videos[0] : null;\n\n    return ( \n        <div className=\"ot-new-post-media\">\n            { videos && videos.length > 0 && \n                <NewPostVideo video={video}\n                    token={token}\n                    onVideoUploaded={ ( res ) => { if(!readonly) props.onVideoUploaded(res); } }\n                    onRemoveVideo={ props.onRemoveVideo } />\n            }\n            { images && images.length > 0 &&\n                <div className=\"layout ot-new-post-images\">\n                    { images.map( (image, index) => \n                        <NewPostImage key={ index } image={image}\n                            token={token}\n                            onImageLoaded={ (src) => { if(!readonly) props.onImageLoaded(image, index, src); } }\n                            onImageUploaded={ (new_image) => { if(!readonly) props.onImageUploaded(image, index, new_image); } }\n                            onRemoveImage={ () =>  props.onRemoveImage(index) } />\n                    )}\n                </div>\n            }\n        </div>\n    );\n}\n \nexport default NewPostMedia;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Camera extends Component {\n  state = { facingMode: \"user\" };\n  componentWillMount() {\n    this.setup();\n  }\n\n  componentWillUnmount(){\n    this.state.mediaStream.getVideoTracks()[0].stop();\n  }\n\n  setup = () => {\n    const { video, audio } = this.props;\n    if (navigator.mediaDevices) {\n      navigator.mediaDevices\n      // .getUserMedia({ video, audio, facingMode: this.state.facingMode })\n      .getUserMedia({ video: { facingMode: this.state.facingMode }, audio })\n      .then((mediaStream) => {\n        this.setState({ mediaStream });\n        this.video.srcObject = mediaStream;\n        this.video.play();\n      })\n      .catch(error => error);\n    }\n  }\n\n  capture() {\n    const mediaStreamTrack = this.state.mediaStream.getVideoTracks()[0];\n    const imageCapture = new window.ImageCapture(mediaStreamTrack);\n\n    return imageCapture.takePhoto();\n  }\n  \n  switchMode() {\n    const facingMode = this.state.facingMode === \"environment\" ? \"user\" : \"environment\";\n    this.setState({facingMode}, () => {\n      this.state.mediaStream.getVideoTracks()[0].stop();\n      this.setState({ mediaStream: null });\n      // return this.setState({ mediaStream: null });\n      setTimeout(() => {\n        this.setup();\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div style={this.props.style}>\n        { this.props.children }\n        <video ref={(video) => { this.video = video; }} />\n      </div>\n    );\n  }\n}\n\nCamera.propTypes = {\n  audio: PropTypes.bool,\n  video: PropTypes.bool,\n  children: PropTypes.element\n};\n\nCamera.defaultProps = {\n  audio: false,\n  video: true,\n  style: {},\n  children: null\n};\n\nexport default Camera;\n\n\nconst styles = {\n  base: {\n    width: '100%',\n    height: '100%'\n  }\n};","import React, { Component } from 'react';\n// import Camera from 'react-camera';\nimport Camera from './Camera';\n\nexport default class NewPostCamera extends Component {\n  state = { image: null }\n\n  takePicture = () => {\n    this.camera.capture()\n    .then(blob => {\n      const src = URL.createObjectURL(blob);\n      this.img.src = src;\n      this.setState({image: blob});\n      console.log(src);\n      this.img.onload = () => { URL.revokeObjectURL(this.src); }\n    })\n  }\n\n  switchCameraMode = () => {\n    this.camera.switchMode()\n  }\n\n  handleRepeat = () => {\n    this.setState({image: null});\n  }\n\n  render() {\n    const { image } = this.state;\n    return (\n      <div id=\"newPostCamera\">\n        { !image &&\n          <Camera\n            ref={(cam) => { this.camera = cam; }}>\n\n            <div id=\"captureContainer\">\n              <button className=\"ot-btn flat\" onClick={this.props.onCancel}>\n                CANCEL\n              </button>\n              <div id=\"captureButton\" onClick={this.takePicture} />\n              <button className=\"ot-btn action\" onClick={this.switchCameraMode}>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z\"/></svg>\n              </button>\n            </div>\n\n          </Camera>\n        }\n\n        <img id=\"captureImage\" className={!image ? 'hidden': ''}\n          ref={(img) => { this.img = img; }}\n          alt=\"\"\n        />\n\n        { image && \n          <div id=\"captureContainer\">\n            <button className=\"ot-btn flat\" onClick={this.handleRepeat}>\n              REPEAT\n            </button>\n            \n            \n            <button className=\"ot-btn flat\" onClick={() => this.props.onAddPicture(image)}>\n              CONTINUE\n            </button>\n          </div>\n        }\n      </div>\n    );\n  }\n}","import React from 'react';\nimport TextareaAutosize from 'react-autosize-textarea/lib';\nimport Fullscreen from \"react-full-screen\";\n\nimport './new-post-mobile.css'\nimport NewPostMedia from '../NewPostMedia';\nimport NewPostCamera from './NewPostCamera';\n\nclass NewPostMobile extends React.Component {\n    state = { takingPicture: false }\n\n    constructor(props){\n        super(props);\n        this.inputField = React.createRef();\n    }\n\n    componentDidMount(){\n        if(this.inputField){\n            this.inputField.current.textarea.focus();\n        }\n    }\n\n    closeCamera = () => {\n        this.props.onCloseCamera();\n        if(this.inputField){\n            this.inputField.current.textarea.focus();\n        }\n    }\n\n    handleAddPicture = (picture) => {\n        this.closeCamera();\n        this.props.onAddPicture(picture);\n    }\n\n    render() { \n        const { takingPicture, posting, editting, user, content, videos, images } = this.props;\n        return (\n            <React.Fragment>\n                { takingPicture && \n                    <Fullscreen\n                        enabled={takingPicture}>\n                        <NewPostCamera\n                            onCancel={this.closeCamera}\n                            onAddPicture={this.handleAddPicture} /> \n                    </Fullscreen>\n                }\n                <div className={'ot-new-post-mobile ' + ( posting ? 'posting ' : ' ') + ( posting && editting ? 'saving ' : ' ')}>\n                    <div className=\"ot-new-post-mobile-nav layout center\">\n                        <button className=\"ot-btn action\" onClick={this.props.onBackClicked}>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>\n                        </button>\n\n                        <span>{ editting ? 'Edit' : 'New' } Post</span>\n\n                        <span className=\"flex\"></span>\n\n                        <button className=\"ot-btn flat\" onClick={this.props.onSubmitClicked}>\n                            { editting ? 'SAVE' : 'SUBMIT' }\n                        </button>\n                    </div>\n\n                    <div className=\"ot-new-post-mobile-content\">\n                        <div className=\"ot-new-post-wrapper layout\">\n                            <div className=\"ot-dp\">\n                                <img src={user.dp} alt=\"\"/>\n                            </div>\n\n                            <TextareaAutosize\n                                ref={this.inputField} \n                                placeholder=\"Share your inisights...\" className=\"ot-new-post-text\" rows={1}\n                                value={content}\n                                onChange={this.props.onChange}\n                                onKeyUp={this.props.onKeyUp} />\n\n                        </div>\n                        \n                        <NewPostMedia\n                            readonly\n                            token={user.token}\n                            videos={videos}\n                            images={images}\n                            onRemoveImage={this.props.onRemoveImage}\n                            onRemoveVideo={this.props.onRemoveVideo} />\n                    </div>\n                    \n                    { videos.length < 1 &&\n                        <div className=\"ot-new-post-mobile-actions layout center-center\">\n                            <input type=\"file\" id=\"mobileImages\" onChange={this.props.onFilesPicked}/>\n                            <label className=\"ot-btn flat\" htmlFor=\"mobileImages\">\n                                {/* <svg viewBox=\"0 0 24 24\"><path d=\"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\"/></svg> */}\n                                ADD FILES\n                            </label>\n                            &emsp;&emsp;\n                            <button className=\"ot-btn flat\" onClick={this.props.onOpenCamera}>\n                                {/* <svg viewBox=\"0 0 24 24\"><path d=\"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\"/></svg> */}\n                                TAKE PICTURE\n                            </button>\n                        </div>\n                    }\n                </div>\n            </React.Fragment> \n        );\n    }\n}\n \nexport default NewPostMobile;","import React from 'react';\n\nimport './new-post.css';\n\nimport { slice } from 'lodash'\n\nimport axios, { post as aPost } from 'axios';\n\nimport PostVideo, { _parseYoutubeURL, _getEmbedUrl } from \"../PostItem/PostMedia/PostVideo\";\n\nimport TextareaAutosize from 'react-autosize-textarea';\nimport NewPostMobile from \"./NewPostMobile\";\nimport NewPostMedia from \"./NewPostMedia\";\n\nimport { notification, notify } from '../../../Notifications';\nimport { API_BASE_URL, MOBILE_WIDTH } from '../../../constants';\n\nconst MAX_IMAGE_COUNT = 5;\nclass NewPost extends React.Component {\n    state = { creatingOnMobile: false, takingPicture: false, posting: false, dragover: false, focused: false, post_id: null, content: '', images: [], videos: [] }\n\n    constructor(props){\n        super(props);\n        this.wrapper = React.createRef();\n    }\n\n    componentDidMount(){\n        if(this.props.post){\n            const { id, content, images, videos } = this.props.post;\n            this.setState({post_id: id, content, images, videos}, () => {\n                if(window.innerWidth < MOBILE_WIDTH){\n                    this.openMobileCreate();\n                }\n            });\n        }\n\n        window.addEventListener(\"dragover\", this.FileDragHover, false);\n        window.addEventListener(\"dragleave\", this.FileDragHover, false);\n        window.addEventListener(\"drop\", this.FileSelectHandler, false);\n\n        this._isMounted = true;\n\n        document.addEventListener('ot-popstate', (e) => {\n            if(this._isMounted) {\n                const { hash } = window.location;\n                console.log(\"Popstate hash: \", hash, hash.indexOf('creatingOnMobile'));\n                if(hash.indexOf('creatingOnMobile') === -1 && this.state.creatingOnMobile){\n                    this.setState({creatingOnMobile: false});\n                    if(this.state.post_id){\n                        this.props.onCancelEditting();\n                    }\n                }\n    \n                if(hash.indexOf('takingPicture') === -1 && this.state.takingPicture)\n                    this.setState({takingPicture: false})\n            }\n        }, false);\n    }\n\n    FileDragHover = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        if(this.state.videos.length)\n            return;\n            \n        const hovering = e.type !== \"dragleave\" && e.type !== \"drop\";\n        \n        setTimeout(() => {\n            this.setState({dragover: hovering});\n        }, 20);\n    }\n\n    FileSelectHandler = (e, fromDragNDrop = true) => {\n        e.stopPropagation();\n        e.preventDefault();\n        \n        if(this.state.videos.length)\n            return notify( notification(`You can not upload both videos and images`) )\n\n        if(fromDragNDrop)\n            this.FileDragHover(e);\n    \n        var files = e.target.files || e.dataTransfer.files;\n    \n        if(!files || !files.length)\n            return;\n    \n        this.processFiles(files);\n    }\n\n    openCamera = () => {\n        console.log(\"Opening camera....\");\n        window.history.pushState({takingPicture: true}, 'takingPicture', '#creatingOnMobile/takingPicture');\n        this.setState({takingPicture: true})\n    }\n\n    closeCamera = () => {\n        window.history.back();\n        this.setState({takingPicture: false});\n    }\n\n    imageLoaded = (image, index, src) => {\n        let new_images = [...this.state.images]\n\n        image.src = src;\n        image.loading = false;\n\n        new_images.splice(index, 1, image);\n\n        this.setState({ images: new_images });\n    }\n    \n    imageUpLoaded = (image, index, res) => {\n        let new_images = [...this.state.images]\n\n        image.id = res.id;\n        image.photo = res.photo;\n\n        new_images.splice(index, 1, image);\n\n        this.setState({ images: new_images });\n    }\n    \n    videoUpLoaded = (res) => {\n        let new_videos = [...this.state.videos];\n        let video = new_videos[0];\n        video.id = res.id;\n\n        this.setState({ videos: [video] });\n    }\n    \n    removeVideo = () => {\n        this.setState({ videos: [] });\n    }\n    \n    removeImage = (index) => {\n        let new_images = [...this.state.images]\n\n        new_images.splice(index, 1);\n\n        this.setState({ images: new_images });\n    }\n\n    handleAddPicture = (pic) => {\n        if(this.state.images.length === MAX_IMAGE_COUNT){\n            notify( notification(`You can not upload more than ${MAX_IMAGE_COUNT} images`) );\n            return;\n        }\n\n        const id = 'ot-temp-id' + Math.random().toString(36).substr(2, 5);\n        pic.lastModifiedDate = new Date();\n        pic.name = 'ot-file-' + Math.random().toString(36).substr(2, 5);\n        this.setState({ images: [...this.state.images, { id, file: pic, loading: true, src: \"\"}] });\n    }\n\n    processFiles = (files) => {\n        const valid_files = Array.from(files).filter(f => f.type.indexOf(\"image\") !== -1);\n        const images = valid_files.map( f => { \n            const id = 'ot-temp-id' + Math.random().toString(36).substr(2, 5);\n            return { id, file: f, loading: true, src: \"\"}; \n        });\n\n        let diff = MAX_IMAGE_COUNT - this.state.images.length;\n        if(diff < 0)\n            diff = 0;\n        \n        if(diff < images.length){\n            notify( notification(`You can not upload more than ${MAX_IMAGE_COUNT} images`) )\n        }\n        this.setState({ images: this.state.images.concat(slice(images, 0, diff)) });\n        Array.from(files).filter(f => f.type.indexOf(\"image\") === -1)\n            .forEach( f => {\n                let fname = f.name.substr(0, 15).trim();\n                fname += f.name.length > 15 ? '...' : '';\n                notify( notification(`<strong>${fname}</strong> is not an image`) )\n            });\n    }\n\n    setFocus = (state, fromClick) => {\n        if(!fromClick)\n            this.setState({focused: state});\n        \n        if(state && fromClick && window.innerWidth < MOBILE_WIDTH){\n            this.openMobileCreate();\n        }\n    }\n\n    openMobileCreate = () => {\n        window.history.pushState({creating: true}, 'creating', '#creatingOnMobile');\n        this.setState({creatingOnMobile: true})\n    }\n\n    closeMobileCreate = () => {\n        window.history.back();\n        this.setState({creatingOnMobile: false})\n        if(this.state.post_id){\n            this.props.onCancelEditting();\n        }\n    }\n    \n    handleChange = (event) => {\n        let content = event.target.value;\n        const video_index = content.indexOf(\"https\");\n        const src = content.substr(video_index, content.length);\n\n        this.setState({content}, () => {\n            if(video_index !== -1 && _parseYoutubeURL(src)){\n                const id = 'ot-temp-id' + Math.random().toString(36).substr(2, 5);\n                const videos = [ { id, video: src } ];\n                content = content.replace(src, \"\");\n\n                this.setState({ content, videos });\n            }\n        });\n    }\n    \n    handleKeyup = (event) => {\n        if(event.key === 'Enter' && this.state.content.length)\n            this.submitClicked();\n    }\n\n    sendPost = (url, formData, params) => {\n        const config = {\n            headers: {\n                'content-type': 'application/x-www-form-urlencode'\n            },\n            params\n        }\n        return aPost(url, formData, config)\n    }\n\n    submitClicked = async () => {\n        this.setState({posting: true})\n\n        let form_data = new FormData();\n        form_data.append('content', this.state.content);\n\n        if(this.state.images.length){\n            await this.state.images.map( i => { \n                i.photo = i.file;\n                console.log(i.id);\n                form_data.append('photo_list', i.id);\n                return i.id;\n            });\n        }\n        \n        if(this.state.videos.length && !this.state.images.length){\n            const video = this.state.videos[0];\n            // if(video.id)\n            //     form_data.append('video_list', video.id);\n            // else\n            //     form_data.set('content', this.state.content + video);\n\n            form_data.set('content', this.state.content + video.video);\n        }\n\n        const params = { token: this.props.user.token };\n        const url = API_BASE_URL + ( this.state.post_id ? '/edit_post' : '/publish_post/');\n\n        if(this.state.post_id){\n            form_data.append('id', this.state.post_id);\n        }\n        \n        this.sendPost(url, form_data, params)\n            .then(({data}) => {\n                this.setState({posting: false});\n                const response = data[0];\n                console.log(\"Submit post result: \", response);\n                // this.props.onImageUpLoaded( response );\n\n                if(response.status){\n                    this.props.onNewPost(response.post);\n                    if(this.state.creatingOnMobile){\n                        this.closeMobileCreate();\n                    }\n                    this.setState({ posting: false, dragover: false, focused: false, content: '', images: [], videos: [] });\n                }\n            })\n            .catch((error) => {\n                this.setState({posting: false});\n                notify( notification(`Error submitting post`) )\n\n                let err = \"\";\n                if (error.response) {\n                    err = error.response.data;\n                } else if (error.request) {\n                    err = error.request;\n                } else {\n                    err = error.message;\n                }\n\n                console.error(\"Submit post Error\", err);;\n            });\n    }\n\n    render() {\n        const { user } = this.props;\n        const { creatingOnMobile, takingPicture, posting, post_id, dragover, focused, content, images, videos } = this.state;\n        const saving = posting && post_id;\n\n        const has_media = images.length || videos.length;\n        const media_type = has_media ? images.length ? 'image' : 'video' : null;\n\n        return (\n            <React.Fragment>\n                { creatingOnMobile && \n                    <NewPostMobile\n                        user={user}\n                        content={content}\n                        images={images} \n                        videos={videos}\n                        takingPicture={takingPicture}\n                        posting={posting}\n                        editting={post_id != null}\n                        onChange={this.handleChange}\n                        onKeyUp={this.handleKeyup}\n                        onFilesPicked={this.FileSelectHandler}\n                        onRemoveImage={this.removeImage}\n                        onRemoveVideo={this.removeVideo}\n                        onSubmitClicked={this.submitClicked}\n                        onBackClicked={this.closeMobileCreate}\n                        onOpenCamera={this.openCamera}\n                        onCloseCamera={this.closeCamera}\n                        onAddPicture={this.handleAddPicture} />\n                }\n\n                <div ref={this.wrapper} className={ 'ot-new-post ' + ( saving ? 'saving ' : ' ') + ( posting ? 'posting ' : ' ') + ( dragover ? 'dragging ' : '') + (images.length ? 'has-images' : '' ) }>\n                    <div className=\"ot-new-post-wrapper layout\">\n                        <div className=\"ot-dp\">\n                            <img src={user.dp} alt=\"\"/>\n                        </div>\n\n                        <TextareaAutosize \n                            placeholder=\"Share your inisights...\" className=\"ot-new-post-text\" rows={1}\n                            onClick={ () => this.setFocus(true, true) }\n                            onFocus={ () => this.setFocus(true) }\n                            onBlur={ () => this.setFocus(false) }\n                            onChange={this.handleChange}\n                            onKeyUp={this.handleKeyup}\n                            value={content} />\n                    </div>\n\n                    <NewPostMedia\n                        token={user.token}\n                        videos={videos}\n                        images={images}\n                        onImageLoaded={this.imageLoaded}\n                        onImageUploaded={this.imageUpLoaded}\n                        onRemoveImage={this.removeImage}\n                        onVideoUploaded={this.videoUpLoaded}\n                        onRemoveVideo={this.removeVideo} />\n\n                    <div className=\"ot-new-post-buttons layout justified\">\n                        <div className=\"layout center\">\n                            <input type=\"file\" id=\"mobileImages\" onChange={(e) => this.FileSelectHandler(e, false)}/>\n                            <label className=\"ot-btn flat rounded\" htmlFor=\"mobileImages\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"3.2\"/><path d=\"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>\n                                &nbsp;&nbsp;ADD IMAGE\n                            </label>\n                        </div>\n\n                        <button className={'ot-btn flat' + (!content.length ? ' disabled' : '') }\n                            onClick={ this.submitClicked }>\n                            { post_id ? 'SAVE' : 'POST' }\n                        </button>\n                    </div>\n                </div>\n\n                <button className=\"ot-btn fab ot-post-creator-fab\" onClick={this.openMobileCreate}>\n                    <svg viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>\n                </button>\n            </React.Fragment> \n        );\n    }\n}\n \nexport default NewPost;","import React from 'react';\n\nimport \"./loader.css\";\n\nconst Loader = ( props ) => {\n    const { thin } = props;\n    return ( \n        <div className={'ot-loader ' + (thin ? 'thin' : '')}><div></div><div></div><div></div><div></div></div>\n    );\n}\n \nexport default Loader;","import React from 'react';\n\nimport './edit-post.css'\n\nimport NewPost from \"../NewPost\";\n\nclass EditPost extends React.Component {\n    render() { \n        const { post, user } = this.props;\n        return (\n            <div className=\"ot-edit-post-wrapper\">\n                <div className=\"ot-edit-post\">\n                    <div className=\"ot-edit-post-title layout center justified\">\n                        Edit Post\n\n                        <button className=\"ot-btn action\" onClick={ this.props.onCancelEditting }>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                        </button>\n                    </div>\n                    <NewPost \n                        post={post} \n                        user={ user } \n                        onNewPost={ this.props.onNewPost }\n                        onCancelEditting={ this.props.onCancelEditting } />\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default EditPost;","import React from 'react';\n\nimport './post-comments-mobile.css'\n\nimport PostComments from \"../PostComments\";\nimport PostCommenter from \"../PostCommenter\";\nimport axios from 'axios';\nimport { API_BASE_URL } from '../../../../constants';\n\nclass PostCommentsMobile extends React.Component {\n    state = { fetching_comments: true, comments: [] }\n\n    componentDidMount(){\n        window.history.pushState({'commentingOnMobile': true}, 'commentingOnMobile', '#commentingOnMobile');\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            console.log(\"commentingOnMobile Popstate hash: \", hash, hash.indexOf('commentingOnMobile'));\n            if(hash.indexOf('commentingOnMobile') === -1){\n                this.props.onCancelCommenting();\n            }\n        }, false);\n\n        this.fetchComments();\n    }\n\n    toggleCommentLiked = (index) => {\n        let comments = [...this.state.comments];\n        let comment = JSON.parse(JSON.stringify(comments[index]));\n        const isLiked = comment.is_liked;\n\n        comment.is_liked = !isLiked;\n        comments.splice(index, 1, comment);\n\n        this.setState({ comments });\n\n        const { user } = this.props;\n        const url = API_BASE_URL + ( isLiked ? '/unlike_comment/' : '/like_comment/' );\n        const params = { token: user.token, comment_id: comment.id };\n        axios.get(url, { params })\n            .then(({data}) => {\n                const response = data[0];\n                console.log(\"Toggle Comment like response\", response);\n                if(!response.status){\n                    comment.is_liked = isLiked;\n                    comments.splice(index, 1, comment);\n\n                    this.setState({ comments });\n                }else{\n                    this.props.onToggleCommentLike(index, !isLiked);\n                }\n            })\n            .catch((error) => {\n                console.error(\"Toggle comment like Error\", error);\n                comment.is_liked = isLiked;\n                comments.splice(index, 1, comment);\n\n                this.setState({ comments });\n            });\n    }\n\n    addComment = ( content ) => {\n        const { post, user } = this.props;\n        const comment = {\n            id: 'ot-temp-id' + Math.random().toString(36).substr(2, 5),\n            content,\n            published_at: new Date(),\n            is_liked: false,\n            publisher: this.props.user\n        }\n\n        let comments = [...this.state.comments];\n        const new_comment_index = comments.length;\n        comments.push(comment);\n\n        this.setState({ comments });\n\n        const params = { token: user.token };\n        let form_data = new FormData();\n        form_data.append('content', content);\n        form_data.append('post_id', post.id);\n\n        axios({\n            method: 'POST',\n            url: API_BASE_URL + '/publish_comment/',\n            headers: {\n                'content-type': 'application/x-www-form-urlencode'\n            },\n            params,\n            data: form_data\n        })\n        .then(({data}) => {\n            const response = data[0];\n            console.log(\"Comment result: \", response);\n            \n            if(!response.status){\n                post.total_comments -= 1;\n                post.total_commenets -= 1;\n                comments.splice(new_comment_index, 1);\n            }else{\n                comment.id = comment.id.replace('ot-temp-id', '');\n                comments.splice(new_comment_index, 1, comment);\n                this.props.onNewComment(comment);\n            }\n\n            this.setState({ comments });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Comment Error\", err);\n\n            comments.splice(new_comment_index, 1);\n            this.setState({ comments });\n        });\n    }\n\n    fetchComments = () => {\n        const { user, post } = this.props;\n        const params = { token: user.token, post_id: post.id };\n\n        axios.get(API_BASE_URL + '/comments/', { params })\n        .then((response) => {\n            console.log(\"Post Comments result: \", response, response.status === 200);\n            \n            if(response.status === 200){\n                this.setState({ comments: response.data });\n            }\n\n            this.setState({ fetching_comments: false });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Post Comments Error\", err);\n            this.setState({ fetching_comments: false });\n        });\n    }\n\n    render() { \n        const { user, post } = this.props;\n        const { fetching_comments, comments } = this.state;\n        return (\n            <div className=\"ot-post-comments-mobile\">\n                <div className=\"ot-post-comments-mobile-nav layout center\">\n                    <button className=\"ot-btn action\" onClick={() => window.history.back()}>\n                        <svg viewBox=\"0 0 24 24\"><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>\n                    </button>\n\n                    <span>Post Comments</span>\n                </div>\n\n                <div className=\"ot-post-comments-mobile-content\">\n                    <PostComments comments={comments} loading={fetching_comments}\n                            onToggleCommentLiked={this.toggleCommentLiked} />\n                </div>\n                \n                <div className=\"ot-post-comments-mobile-actions\">\n                    <PostCommenter\n                        user={user} faved={post.is_liked}\n                        autofocus\n                        quickemojis\n                        onNewComment = { this.addComment } />\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default PostCommentsMobile;","import React from 'react';\nimport axios from 'axios';\n\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport './post-list.css';\n\nimport sample_posts from './posts';\n\nimport { API_BASE_URL, MOBILE_WIDTH } from '../../constants';\nimport { confirm } from '../../Popups';\n\nimport PostItem from \"./PostItem\";\nimport NewPost from './NewPost';\nimport { notification, notify } from '../../Notifications';\nimport Loader from '../../components/Loader';\nimport EditPost from './EditPost';\nimport PostCommentsMobile from './PostItem/PostCommentsMobile';\n\nclass PostList extends React.Component {\n    state = { initial_fetch: false, fetching: false, page: 1, postToEdit: null, postToComment: null, posts: [] };\n\n    componentDidMount(){\n        const { user, posts, readonly } = this.props;\n        // this.setState({user, posts: sample_posts, initial_fetch: true});\n\n        if(!readonly){\n            this.setState({token: user.token}, () => {\n                this.fetchUserPosts();\n            });\n        }else if(user){\n            this.setState({posts, initial_fetch: true})\n        }\n    }\n\n    fetchUserPosts = () => {\n        // console.log(`Fetching posts for ${id}, with token ${token}`);\n        // setTimeout(() => {\n        //     this.setState({posts: sample_posts, initial_fetch: true});\n        // }, 2000);\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/wall/', { params })\n        .then(({data}) => {\n            console.log(\"Fetch posts result\", data);\n            this.setState({posts: [...this.state.posts, ...data], fetching: false, initial_fetch: true, page: this.state.page + 1})\n        })\n        .catch((err) => {\n            console.error(\"Fetch posts Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n\n    }\n\n    toggleCommentLiked = (post, index, comment_index) => {\n        let comment = JSON.parse(JSON.stringify(post.comments[comment_index]));\n        const isLiked = comment.is_liked;\n        let new_posts = [...this.state.posts]\n\n\n        comment.is_liked = !isLiked;\n        // comment.total_likes += isLiked ? -1 : 1;\n        post.comments.splice(comment_index, 1, comment);\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const url = API_BASE_URL + ( isLiked ? '/unlike_comment/' : '/like_comment/' );\n        const params = { token: this.state.token, comment_id: comment.id };\n        axios.get(url, { params })\n            .then(({data}) => {\n                const response = data[0];\n                console.log(\"Toggle Comment like response\", response);\n                if(!response.status){\n                    comment.is_liked = isLiked;\n                    post.comments.splice(comment_index, 1, comment);\n                    \n                    new_posts.splice(index, 1, post);\n                    this.setState({ posts: new_posts });\n                }\n            })\n            .catch((error) => {\n                console.error(\"Toggle comment like Error\", error);\n                comment.is_liked = isLiked;\n                post.comments.splice(comment_index, 1, comment);\n                \n                new_posts.splice(index, 1, post);\n                this.setState({ posts: new_posts });\n            });\n    }\n\n    setCommentLiked = (post, index, comment_index, like_state) => {\n        let comment = JSON.parse(JSON.stringify(post.comments[comment_index]));\n        let new_posts = [...this.state.posts]\n        comment.is_liked = like_state;\n        // comment.total_likes += like_state ? 1 : -1;\n\n        if(post.comments.length < comment_index){\n            return; //incase comment wasn't loaded with post\n        }\n        post.comments.splice(comment_index, 1, comment);\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n    }\n    \n    toggleLiked = (post, index) => {\n        const isLiked = post.is_liked;\n        let new_posts = [...this.state.posts]\n\n        post.is_liked = !isLiked;\n        post.total_likes += isLiked ? -1 : 1;\n\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const url = API_BASE_URL + ( isLiked ? '/unlike_post/' : '/like_post/' );\n        const params = { token: this.state.token, post_id: post.id };\n        axios.get(url, { params })\n            .then(({data}) => {\n                const response = data[0];\n                if(!response.status){\n                    post.is_liked = isLiked;\n                    \n                    new_posts.splice(index, 1, post);\n                    this.setState({ posts: new_posts });\n                }\n            })\n            .catch((error) => {\n                console.error(\"Toggle like Error\", error);\n                post.is_liked = isLiked;\n                \n                new_posts.splice(index, 1, post);\n                this.setState({ posts: new_posts });\n            });\n    }\n    \n    newPost = (post) => {\n        let new_posts = [...this.state.posts];\n        new_posts.unshift(post);\n\n        console.log(post, new_posts);\n        notify( notification(`Your post has been submitted`) )\n\n        this.setState({ posts: new_posts });\n    }\n\n    addComment = (post, index, content) => {\n        let post_copy = {...post}\n        const comment_index = post_copy.comments.length;\n        \n        console.log(post.comments.length);\n        post.total_comments += 1;\n        post.total_commenets += 1;\n\n        const comment = {\n            id: 'ot-temp-id' + Math.random().toString(36).substr(2, 5),\n            content,\n            published_at: new Date(),\n            is_liked: false,\n            publisher: this.props.user\n        }\n\n        post.comments.push(comment);\n\n        let new_posts = [...this.state.posts]\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const params = { token: this.state.token };\n        let form_data = new FormData();\n        form_data.append('content', content);\n        form_data.append('post_id', post.id);\n\n        axios({\n            method: 'POST',\n            url: API_BASE_URL + '/publish_comment/',\n            headers: {\n                'content-type': 'application/x-www-form-urlencode'\n            },\n            params,\n            data: form_data\n        })\n        .then(({data}) => {\n            const response = data[0];\n            console.log(\"Comment result: \", response);\n            \n            if(!response.status){\n                post.comments.splice(comment_index, 1);\n                post.total_comments -= 1;\n                post.total_commenets -= 1;\n            }else{\n                comment.id = comment.id.replace('ot-temp-id', '');\n            }\n\n            new_posts.splice(index, 1, post);\n            this.setState({ posts: new_posts });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Comment Error\", err);\n\n            post.comments.splice(comment_index, 1);\n            new_posts.splice(index, 1, post);\n            this.setState({ posts: new_posts });\n        });\n    }\n\n    addCommentToPost = (post, index, comment) => {\n        post.total_comments += 1;\n        post.total_commenets += 1;\n        post.comments.push(comment);\n\n        let new_posts = [...this.state.posts]\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n    }\n    \n    showComments = (post, index) => {\n        if(window.innerWidth < MOBILE_WIDTH){\n            return this.commentOnMobile(post, index);\n        }\n\n        post.fetching_comments = true;\n\n        let new_posts = [...this.state.posts]\n        new_posts.splice(index, 1, post);\n\n        this.setState({ posts: new_posts });\n\n        const params = { token: this.state.token, post_id: post.id };\n\n        axios.get(API_BASE_URL + '/comments/', { params })\n        .then((response) => {\n            console.log(\"Post Comments result: \", response, response.status === 200);\n            \n            if(response.status === 200){\n                post.comments = response.data;\n            }\n\n            post.fetching_comments = false;\n            new_posts.splice(index, 1, post);\n            console.log(new_posts[0]);\n            this.setState({ posts: new_posts });\n        })\n        .catch((error) => {\n            let err = \"\";\n            if (error.response) {\n                err = error.response.data;\n            } else if (error.request) {\n                err = error.request;\n            } else {\n                err = error.message;\n            }\n\n            console.error(\"Post Comments Error\", err);\n\n            post.fetching_comments = false;\n            new_posts.splice(index, 1, post);\n            this.setState({ posts: new_posts });\n        });\n    }\n\n    commentOnMobile = (post, index) => {\n        this.setState({ postToComment: { post, index } });\n    }\n    \n    cancelCommenting = () => {\n        this.setState({ postToComment: null });\n    }\n    \n    editPost = (post, index) => {\n        this.setState({ postToEdit: { post, index } });\n    }\n    \n    savePost = (post) => {\n        let posts = [...this.state.posts];\n        const index = this.state.postToEdit.index;\n        posts.splice(index, 1, post);\n\n        this.setState({ posts });\n    }\n    \n    cancelEditPost = () => {\n        this.setState({ postToEdit: null });\n    }\n\n    deletePost = (post, index) => {\n        let posts = [...this.state.posts];\n        const url = API_BASE_URL + '/delete_post';\n        const params = { token: this.state.token, post_id: post.id };\n\n        confirm(\"Delete Post\", \"Are you sure you want to delete post\", \n            \"Delete\", ( accepted ) => {\n                if(!accepted)\n                    return;\n                \n                axios.get(url, { params })\n                    .then(({data}) => {\n                        const response = data[0];\n\n                        if(response.status){\n                            notify( notification(`Post Deleted`) );\n                            posts.splice(index, 1);\n                            \n                            this.setState({ posts });\n                        }\n                    })\n                    .catch((error) => {\n                        console.error(\"Delete post Error\", error);\n                    });\n            });\n    }\n\n    handleReachedBottom = (event) => {\n        console.log(\"ReachedBottom Event\", event);\n        if(event.isIntersecting && !this.state.fetching){\n            this.fetchUserPosts();\n        }\n    }\n\n    render() { \n        const { scrolled, posts, postToEdit, postToComment, initial_fetch, fetching } = this.state;\n        const { user, readonly } = this.props;\n        const options = {\n            onChange: this.handleReachedBottom,\n            root: 'body',\n            rootMargin: `60px 0%`,\n        };\n\n        return (\n            <React.Fragment>\n                { postToEdit && \n                    <EditPost \n                        user={user} \n                        post={postToEdit.post}\n                        onNewPost={this.savePost}\n                        onCancelEditting={this.cancelEditPost} /> \n                }\n                \n                { postToComment && \n                    <PostCommentsMobile \n                        user={user} \n                        post={postToComment.post}\n                        onNewComment={comment => this.addCommentToPost(postToComment.post, postToComment.index, comment)}\n                        onToggleCommentLike={(comment_index, like_state) => this.setCommentLiked(postToComment.post, postToComment.index, comment_index, like_state)}\n                        onCancelCommenting={this.cancelCommenting} /> \n                }\n\n                <div className={ 'ot-post-list-wrapper ' + ( scrolled ? 'scrolled' : '' )}>\n                    { !readonly && <NewPost user={ user } onNewPost={ this.newPost } /> }\n                \n                    <div className=\"ot-post-list\">\n                        {initial_fetch && (\n                            posts.map( (post, index) => \n                                <PostItem key={post.id} post={post} user={user}\n                                    onToggleLiked={ () => this.toggleLiked(post, index) }\n                                    onNewComment={ (comment) => this.addComment(post, index, comment) }\n                                    onToggleCommentLiked={ (comment_index) => this.toggleCommentLiked(post, index, comment_index) }\n                                    onShowComments={ () => this.showComments(post, index) }\n                                    onEditPost={ () => this.editPost(post, index) }\n                                    onDeletePost={ () => this.deletePost(post, index) }\n                                    onViewUser={() => this.props.onViewUser(post.publisher)} />\n                            )\n                        )}\n                    </div>\n\n                    { fetching && \n                        <div className=\"layout center-justified\">\n                            <Loader/>\n                        </div>\n                    }\n\n                    { <Observer {...options}>\n                            <div style={{height: 20+'px'}} \n                                className=\"layout center-justified\" />\n                        </Observer>\n                    }\n                </div>\n            </React.Fragment> \n        );\n    }\n}\n \nexport default PostList;","import React from 'react';\n\nimport './header.css';\n\nconst Header = ( { noborder, center, children} ) => {\n    return ( \n        <div className={'ot-header layout center wrap ' + ( noborder ? 'no-border ' : '' ) + ( center ? 'center-justified' : '' )}>\n            { children }\n        </div>\n    );\n}\n \nexport default Header;","import React from 'react';\nimport './ot-page.css';\n\nconst OtPage = (props) => {\n    const bg = props.bg || '#fff';\n    const padding = props.padding || '';\n    const full = props.full || false;\n    \n    return (\n        <div id=\"otPage\" className={full ? 'full' : ''} style={ { backgroundColor: bg, paddingTop: padding } }>\n            { props.children }\n        </div>\n    );\n}\n \nexport default OtPage;","import React from 'react';\nimport './styles.css';\n\nclass Menu extends React.Component {\n    static Options = ({ className, children }) => {\n        return (\n            <div className={'ot-menu-options ' + className}>\n                { children }\n            </div>\n        );\n    }\n    \n    static Option = ({ className, children, onSelected }) => {\n        return ( \n            <button onClick={ onSelected } className={ 'ot-btn flat ' + className }>{ children }</button>\n        );\n    }\n    \n    static Trigger = ({ children, className }) => {\n        const id = 'ot-menu-id' + Math.random().toString(36).substr(2, 5);\n        let fullClassName = \"ot-menu-opener ot-btn flat layout center \";\n        fullClassName += className;\n\n        return ( \n            <React.Fragment>\n                {/* <input className=\"ot-menu-opener-input\" id={id} type=\"checkbox\"/> */}\n                <button htmlFor={id} className={fullClassName}>\n                    { children }\n                </button>\n            </React.Fragment>\n        );\n    }\n\n    render(){\n        return ( \n            <div className={'ot-menu ' + this.props.className}>\n                { this.props.children }\n            </div>\n        );\n    }\n}\n \nexport default Menu;","import React from 'react';\n\nimport WozaItem from \"../WozaItem\";\n\nlet slideshow_interval;\n\nclass WozaPreviewItem extends React.Component {\n    state = { curIndex: 0, active: false };\n\n    componentDidMount(){\n        if(this.props.active !== this.state.active){\n            this.setState({active: this.props.active});\n\n            if(this.props.active){\n                this.startSlideshow();\n            }\n        }\n    }\n\n    componentDidUpdate(){\n        if(this.props.active !== this.state.active){\n            this.setState({active: this.props.active});\n\n            if(this.props.active){\n                this.startSlideshow();\n            }\n        }\n    }\n\n    startSlideshow = () => {\n        console.log(\"Slideshow started!\");\n        const { woza } = this.props;\n        const { images } = woza;\n\n        slideshow_interval = setInterval(() => {\n            if(this.state.curIndex < images.length - 1){\n                this.setState({curIndex: this.state.curIndex + 1});\n            }else{\n                clearInterval(slideshow_interval);\n                this.props.onFinish();\n            }\n        }, 3000);\n    }\n\n    render() { \n        const { woza, active, visible } = this.props;\n        const { curIndex } = this.state;\n        let className = 'ot-woza-preview-item ';\n        className += visible ? 'visible ' : ' ';\n        className += active ? 'active ' : ' ';\n\n        return (\n            <div className={className}>\n                <WozaItem curImageIndex={curIndex} woza={woza} quickresponder />\n            </div>\n        );\n    }\n}\n \nexport default WozaPreviewItem;","import React from 'react';\n\nimport logo from '../components/logo.png';\n\nimport PostList from './PostList';\nimport Header from '../components/Header';\nimport OtPage from '../components/OtPage';\nimport Menu from '../components/Menu';\n\nclass Home extends React.Component {\n    render() { \n        const { user, onViewProfile, onLogout, onViewUser } = this.props;\n\n        return (\n            <OtPage bg=\"#e9e9e9\">\n                <Header>\n                    <img className=\"ot-logo\" src={logo} alt=\"\"/>\n                    &emsp;\n                    <span className=\"ot-header-title\">\n                        Otalk\n                    </span>\n\n                    <span className=\"flex\"></span>\n\n                    <div className=\"ot-dp\">\n                        <img src={user.dp} alt=\"\" onClick={onViewProfile} />\n                    </div>\n\n                    <Menu className=\"ot-auth-user\">\n                        <Menu.Trigger>\n                            <span className=\"ot-dp\">\n                                <img src={user.dp} alt=\"\" />\n                            </span>\n                            <p>&nbsp;&nbsp; { user.display_name }</p>\n\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>\n                        </Menu.Trigger>\n\n                        <Menu.Options>\n                            {/* <Menu.Option onSelected={ onViewProfile }> Profile </Menu.Option> */}\n                            <Menu.Option onSelected={ onLogout }> Logout </Menu.Option>\n                        </Menu.Options>\n                    </Menu>\n                </Header>\n\n                <PostList\n                    user={ user }\n                    onViewUser={onViewUser} />\n            </OtPage> \n        );\n    }\n}\n \nexport default Home;","import React from 'react';\nimport Image from '../../../components/Image';\n\nimport './woza-images.css';\n\nclass WozaImages extends React.Component {\n    render(){\n        const { images, index } = this.props;\n        const curidx = index || 0;\n        return ( \n            <div className=\"ot-woza-images\">\n                {   \n                    images.map( ( i, idx ) => \n                        <Image className={idx <= curidx ? 'visible' : ''} style={ { zIndex: idx }} key={i.id} src={i.photo} />\n                    )\n                }\n            </div>\n        );\n    }\n}\n \nexport default WozaImages;","import React from 'react';\n\nimport './woza-responder.css';\n\nclass WozaResponder extends React.Component {\n    state = { show_responses: false };\n\n    handleEmojiClicked = (e) => {\n        this.props.onResponse(e.target.innerText);\n    }\n\n    render(){\n        const { show_responses } = this.state;\n\n        return (\n            <div className=\"ot-woza-responder layout vertical center\">\n                { show_responses &&\n                    <div id=\"quickEmojis\" className=\"layout\">\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"nice\"></span>\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"cool\"></span>\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"awesome\"></span>\n                        <span onClick={this.handleEmojiClicked} role=\"img\" aria-label=\"respect\"></span>\n                    </div> \n                }\n\n                <button className=\"ot-btn action\">\n                    { !show_responses && <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-chevron-up\"><polyline points=\"18 15 12 9 6 15\"></polyline></svg> }\n                    { show_responses && <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-x-circle\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg> }\n                </button>\n            </div>\n        );\n    }\n}\n \nexport default WozaResponder;","import React from 'react';\nimport './woza-item.css';\nimport WozaImages from './WozaImages';\nimport WozaResponder from './WozaResponder';\n\nconst PostItem = (props) => {\n    const { user, woza, curImageIndex, quickresponder } = props;\n    const { is_liked, publisher, published_at, images } = woza;\n\n    return ( \n        <div className=\"ot-woza-item\">\n            <div className=\"ot-woza-item-title layout center\">\n                <div className=\"ot-dp\">\n                    <img src={publisher.dp} alt=\"\" />\n                </div>\n\n                <span className=\"ot-post-item-owner\" onClick={props.onViewUser}>\n                    { publisher.display_name }\n                </span>\n            </div>\n\n            <WozaImages index={curImageIndex} images={images} />\n            \n            { !quickresponder && <WozaResponder user={user} faved={is_liked}/> }\n        </div>\n    );\n}\n \nexport default PostItem;","import React from 'react';\n\nimport './woza-previewer.css';\n\nimport sample_wozas from './wozas';\nimport Loader from '../../components/Loader';\n\nimport WozaPreviewItem from './WozaPreviewItem';\n\nclass WozaPreviewer extends React.Component {\n    state = { wozas: [], previewIndex: -1 };\n\n    componentDidMount(){\n        const { wozas, index } = this.props;\n        // this.setState({wozas: sample_wozas, previewIndex: 0});\n        this.setState({wozas, previewIndex: index});\n    }\n\n    handlePreviewNext = () => {\n        console.log(\"Previewer loaded\", this.state.previewIndex, this.state.wozas.length);\n        if(this.state.previewIndex < this.state.wozas.length - 1){\n            this.setState({previewIndex: this.state.previewIndex + 1})\n        }else{\n            this.props.onFinish();\n        }\n    }\n\n    render() { \n        const { wozas, previewIndex } = this.state;\n        const translate = previewIndex >= 0 ? `${-100*previewIndex}%` : '0';\n\n        return (\n            <div className='ot-woza-previewer'>\n                <div className='ot-woza-preview-scoller layout' style={ { transform: `translateX(${translate})` } }>\n                    {\n                        wozas.map( (woza, index) => \n                            <WozaPreviewItem \n                                visible={index <= previewIndex} \n                                active={index === previewIndex} \n                                key={woza.id} woza={woza}\n                                onFinish={this.handlePreviewNext} />\n                        )\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default WozaPreviewer;","import React from 'react';\nimport axios from 'axios';\nimport _ from 'lodash';\n\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport './woza-list.css';\n\nimport sample_wozas from './wozas';\n\nimport { API_BASE_URL } from '../../constants';\n\nimport WozaItem from \"../WozaItem\";\n\nimport Loader from '../../components/Loader';\nimport WozaPreviewer from '../WozaPreviewer';\n\nclass WozaList extends React.Component {\n    state = { initial_fetch: false, fetching: false, page: 1, wozas: [], previewing: false, previewIndex: -1 };\n\n    componentDidMount(){\n        const { user } = this.props;\n        // this.setState({user, wozas: sample_wozas, initial_fetch: true});\n\n        this.setState({token: user.token}, () => {\n            this.fetchUserWozas();\n        });\n    }\n\n    componentDidUpdate(){\n        // console.log(\"Woza list props\", this.props);\n        if(this.props.previewing !== this.state.previewing){\n            this.setState({previewing: this.props.previewing});\n\n            if(!this.props.previewing)\n                this.setState({previewIndex: -1});\n        }\n    }\n\n    fetchUserWozas = () => {\n        const { user } = this.props;\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/wall/', { params })\n        .then(({data}) => {\n            const wozas = _.filter(data, ( woza ) => woza.images && woza.images.length && woza.publisher.id !== user.id );\n            // console.log(\"Fetch wozas result\", data, wozas);\n            this.setState({wozas: [...this.state.wozas, ...wozas], fetching: false, initial_fetch: true, page: this.state.page + 1}, () => {\n                // auto fetch more wozas if there's less than 5\n                if(data.length && wozas.length < 5){\n                    this.fetchUserWozas();\n                }\n            })\n        })\n        .catch((err) => {\n            console.error(\"Fetch wozas Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n\n    }\n\n    handleReachedBottom = (event) => {\n        // console.log(\"ReachedBottom Event\", event);\n        if(event.isIntersecting && !this.state.fetching){\n            this.fetchUserWozas();\n        }\n    }\n\n    previewWoza = (idx) => {\n        this.props.onPreview();\n        this.setState({previewIndex: idx});\n    }\n\n    render() { \n        const { scrolled, wozas, initial_fetch, fetching, previewIndex } = this.state;\n        const { user, mode, previewing } = this.props;\n        const options = {\n            onChange: this.handleReachedBottom,\n            root: 'body',\n            rootMargin: `60px 0%`,\n        };\n\n        return (\n            <div className={ 'ot-woza-list-wrapper mode-' + mode + ' previewing-' + previewing + ' ' + ( scrolled ? 'scrolled' : '' )}>\n                <div className={ 'ot-woza-list layout wrap mode-' + mode }>\n                    {initial_fetch && (\n                        wozas.map( (woza, index) => \n                            <div key={woza.id} className=\"ot-woza-item-wrapper\" onClick={() => this.previewWoza(index)}>\n                                <WozaItem key={woza.id} woza={woza} user={user}/>\n                            </div>\n                        )\n                    )}\n                </div>\n\n                { fetching && \n                    <div className=\"layout center-justified\">\n                        <Loader/>\n                    </div>\n                }\n                \n                { previewing &&\n                    <WozaPreviewer wozas={wozas} index={previewIndex} onFinish={() => window.history.back()} />\n                }\n\n                { <Observer {...options}>\n                        <div style={{height: 20+'px'}} \n                            className=\"layout center-justified\" />\n                    </Observer>\n                }\n            </div>\n        );\n    }\n}\n \nexport default WozaList;","import React from 'react';\n\nimport './woza.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\n\nimport WozaList from './WozaList';\nimport WozaPreviewer from './WozaPreviewer';\n\nclass Woza extends React.Component {\n    state = { mode: 'grid', previewing: false };\n\n    componentDidMount(){\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            if(hash.indexOf(\"#wozaPreviewing\") === -1 && this.state.previewing){\n                this.setState({previewing: false});\n            }\n        }, false);\n    }\n\n    enterPreviewing = () => {\n        window.history.pushState({\"wozaPreviewing\": true}, \"wozaPreviewing\", '#wozaPreviewing');\n        this.setState({previewing: true});\n    }\n\n    handleSwitchMode = () => {\n        this.setState({ mode: this.state.mode === 'grid' ? 'strip' : 'grid'})\n    }\n\n    render(){\n        const { user } = this.props;\n        const { mode, previewing } = this.state;\n        return (\n            <OtPage full={previewing}>\n                <Header noborder>\n                    <span className=\"ot-header-title\">\n                        Woza\n                    </span>\n\n                    <span className=\"flex\"></span>\n\n                    <button className=\"ot-btn flat mode-switch-btn\" onClick={this.handleSwitchMode}>\n                        { mode === 'grid' ? 'Strip' : 'Grid' } View\n                    </button>\n                </Header>\n\n                <WozaList previewing={ previewing } mode={ mode } user={ user }\n                    onPreview={this.enterPreviewing} />\n            </OtPage>\n        );\n    }\n}\n \nexport default Woza;","import React from 'react';\nimport axios from 'axios';\n\nimport './ot-discover.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\nimport Loader from '../components/Loader';\nimport { API_BASE_URL } from '../constants';\n\nclass Discover extends React.Component {\n    state = { initial_fetch: false, searching: false, page: 1, people: [] };\n\n    componentDidMount(){\n        if(this.props.user){\n            const user = this.props.user;\n            this.setState({user, token: user.token}, () => this.fetchPeople());\n        }\n\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            if(hash.indexOf(\"#discoverSearching\") === -1 && this.state.searching){\n                this.setState({searching: false});\n            }\n        }, false);\n    }\n\n    startSearching = () => {\n        window.history.pushState({\"discoverSearching\": true}, \"discoverSearching\", '#discoverSearching');\n        this.setState({searching: true});\n    }\n\n    fetchPeople = () => {\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/following/', { params })\n        .then(({data}) => {\n            console.log(\"Fetch people result\", data);\n            this.setState({people: [...this.state.people, ...data], fetching: false, initial_fetch: true, page: this.state.page + 1})\n        })\n        .catch((err) => {\n            console.error(\"Fetch posts Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n    }\n    \n    render(){\n        const { fetching, searching, people } = this.state;\n        const padding = searching ? '111px' : '60px';\n        return (\n            <OtPage padding={padding}>\n                <Header noborder={searching} centers>\n                    <div className=\"top-bar layout center\">\n                        <span className=\"ot-header-title layout center\">\n                            {  searching &&\n                                <React.Fragment>\n                                    <button className=\"ot-btn action\" onClick={() => window.history.back()}>\n                                        <svg viewBox=\"0 0 24 24\"><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>\n                                    </button>\n                                    &nbsp;&nbsp;\n                                </React.Fragment>\n                            }\n                            &nbsp;\n                            Discover\n                        </span>\n\n                        <div id=\"ot-discover-search\" className=\"flex\">\n                            <input onClick={this.startSearching} type=\"text\" placeholder=\"Search People, Communities\" />\n                        </div>\n                    </div>\n\n                    {  searching &&\n                        <div id=\"ot-header-tabs\" className=\"layout center\">\n                            <button className=\"ot-btn flat active\">\n                                PEOPLE\n                            </button>\n                            \n                            <div className=\"separator\"></div>\n\n                            <button className=\"ot-btn flat\">\n                                COMMUNITIES\n                            </button>\n                        </div>\n                    }\n                </Header>\n\n                <div className=\"ot-discover\">\n                    <div id=\"peopleList\">\n                        { people.map( person => (\n                                <div key={person.id} className=\"ot-person-item layout center\">\n                                    <div className=\"ot-dp lg\">\n                                        <img src={person.dp} alt=\"\"/>\n                                    </div>\n\n                                    <span>{ person.display_name }</span>\n                                </div>\n                            )\n                        )}\n                    </div>\n\n                    { fetching && \n                        <div className=\"layout center-justified\">\n                            <Loader/>\n                        </div>\n                    }\n                </div>\n            </OtPage>\n        );\n    }\n}\n \nexport default Discover;","import React from 'react';\nimport axios from 'axios';\n\nimport './ochat.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\nimport Loader from '../components/Loader';\nimport { API_BASE_URL } from '../constants';\n\nclass Ochat extends React.Component {\n    state = { initial_fetch: false, page: 1, friends: [] };\n\n    componentDidMount(){\n        if(this.props.user){\n            const user = this.props.user;\n            this.setState({user, token: user.token}, () => this.fetchFriends());\n        }\n    }\n\n    fetchFriends = () => {\n        this.setState({fetching: true});\n        const params = { token: this.state.token, page: this.state.page };\n            \n        axios.get(API_BASE_URL + '/following/', { params })\n        .then(({data}) => {\n            console.log(\"Fetch friends result\", data);\n            this.setState({friends: [...this.state.friends, ...data], fetching: false, initial_fetch: true, page: this.state.page + 1})\n        })\n        .catch((err) => {\n            console.error(\"Fetch posts Error\", err);\n            this.setState({initial_fetch: true, fetching: false});\n        });\n    }\n\n    render(){\n        const { fetching, friends } = this.state;\n        return (\n            <OtPage padding=\"111px\">\n                <Header noborder centers>\n                    <div className=\"top-bar layout center\">\n                        <span className=\"ot-header-title\">Ochat</span>\n                    </div>\n\n                    <div id=\"ot-header-tabs\" className=\"layout center\">\n                        <button className=\"ot-btn flat active\">\n                            CHATS\n                        </button>\n                        \n                        <div className=\"separator\"></div>\n\n                        <button className=\"ot-btn flat\">\n                            FRIENDS\n                        </button>\n                    </div>\n                </Header>\n\n\n                <div className=\"ob-ochat\">\n                    <div id=\"friendsList\">\n                        { friends.map( friend => (\n                                <div key={friend.id} className=\"ob-friend-item layout center\">\n                                    <div className=\"ot-dp lg\">\n                                        <img src={friend.dp} alt=\"\"/>\n                                    </div>\n\n                                    <span>{ friend.display_name }</span>\n                                </div>\n                            )\n                        )}\n                        \n                        { fetching && \n                            <div className=\"layout center-justified\">\n                                <Loader/>\n                            </div>\n                        }\n                    </div>\n                </div>\n            </OtPage>\n        );\n    }\n}\n \nexport default Ochat;","import React from 'react';\nimport findit from './icons/findit.png';\nimport oclass from './icons/oclass.png';\nimport odrive from './icons/odrive.png';\nimport ojob from './icons/ojob.png';\n\nimport './other-apps.css';\nimport OtPage from '../components/OtPage';\nimport Header from '../components/Header';\n\nclass OtherApps extends React.Component {\n    render(){\n        return (\n            <OtPage padding=\"85px\">\n                <Header noborder>\n                    <span className=\"ot-header-title\">\n                        Other Apps\n                    </span>\n                </Header>\n\n                <div className=\"ob-other-apps\">\n                    <div className=\"apps-wrapper layout wrap\">\n                        <a href=\"https://www.olbongo.com/odrive\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={odrive} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Odrive\n                            </span>\n                        </a>\n                        <a href=\"https://www.olbongo.com/findit\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={findit} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Find It\n                            </span>\n                        </a>\n                        <a href=\"https://www.olbongo.com/oclass\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={oclass} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Oclass\n                            </span>\n                        </a>\n                        <a href=\"https://www.olbongo.com/ojob\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"ob-app-item\">\n                            <div className=\"ob-app-item-image\">\n                                <img src={ojob} alt=\"\"/>\n                            </div>\n                            <span className=\"ob-app-item-text\">\n                                Ojob\n                            </span>\n                        </a>\n                    </div>\n                </div>\n            </OtPage>\n        );\n    }\n}\n \nexport default OtherApps;","import React from 'react';\n\nimport \"./profile.css\";\nimport axios from 'axios';\nimport { API_BASE_URL } from '../constants';\nimport Loader from '../components/Loader';\nimport PostList from '../Home/PostList';\n\nclass UserProfile extends React.Component {\n    state = { user: {}, profileLoaded: false, postsLoaded: false }\n\n    componentDidMount(){\n        this.setState({user: this.props.user});\n        this.fetchUserProfile();\n        this.fetchUserPosts();\n    }\n\n    fetchUserProfile = () => {\n        const { user, sessionUser } = this.props;\n        const token = sessionUser.token;\n        const params = { token, user_id: user.id };\n        axios.get(API_BASE_URL + '/profile/', { params })\n            .then(({data}) => {\n                const res = data[0];\n                console.log(\"Fetch user profile result\", data);\n                this.setState({ profileLoaded: true, user: {...this.state.user, ...res.user}})\n            })\n            .catch((err) => {\n                console.error(\"Fetch user profile Error\", err);\n                this.setState({initial_fetch: true});\n            });\n    }\n   \n    fetchUserPosts = () => {\n        const { user, sessionUser } = this.props;\n        const token = sessionUser.token;\n        const params = { token, user_id: user.id };\n        axios.get(API_BASE_URL + '/user_wall/', { params })\n            .then(({data}) => {\n                console.log(\"Fetch user posts result\", data);\n                if(this.props.onPostsLoaded){\n                    this.props.onPostsLoaded();\n                }\n                this.setState({ postsLoaded: true, user: {...this.state.user, posts: data}})\n            })\n            .catch((err) => {\n                console.error(\"Fetch user posts Error\", err);\n            });\n    }\n\n    render() { \n        const { sessionUser } = this.props;\n        const { user, profileLoaded, postsLoaded } = this.state;\n        const loading = !profileLoaded && !postsLoaded;\n        const { display_name, dp, posts } = user;\n        \n        return (\n            <div className=\"ot-user-profile\">\n                <div className=\"ot-user-profile-title layout vertical center\">\n                    <div className=\"ot-dp\">\n                        <img src={dp} alt=\"\"/>\n                    </div>\n                    <h5>{display_name}</h5>\n\n                    { sessionUser.id === user.id &&  \n                        <button className=\"ot-btn logout-btn\" onClick={this.props.onLogout}>\n                            LOGOUT\n                        </button>\n                    }\n                    \n                    { loading && <Loader thin /> }\n\n\n                    { profileLoaded &&\n                        <React.Fragment>\n                            <div className=\"user-stats layout center-center\">\n                                <div className=\"user-stat\">\n                                    <div className=\"number\">\n                                        { user.followers }\n                                    </div>\n                                    <div className=\"label\">\n                                        Followers\n                                    </div>\n                                </div>\n                                <div className=\"user-stat\">\n                                    <div className=\"number\">\n                                        { user.following }\n                                    </div>\n                                    <div className=\"label\">\n                                        Following\n                                    </div>\n                                </div>\n                                <div className=\"user-stat\">\n                                    <div className=\"number\">\n                                        { user.friends }\n                                    </div>\n                                    <div className=\"label\">\n                                        Friends\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            {  sessionUser.id !== user.id &&  \n                                <button className=\"ot-btn fla\">\n                                    FOLLOW\n                                </button>\n                            }\n                        </React.Fragment>\n                    }\n                </div>\n                \n                { postsLoaded && <PostList readonly user={sessionUser} posts={ posts } /> }\n            </div>\n        );\n    }\n}\n \nexport default UserProfile;","import React from 'react';\nimport Observer from '@researchgate/react-intersection-observer';\n\nimport \"./bottom-sheet.css\";\n\nclass BottomSheet extends React.Component {\n    state = { visible: false, closing: false, fixed: false };\n\n    constructor(props){\n        super(props)\n        this.contentWrapper = React.createRef();\n    }\n\n    componentDidMount(){\n        this.setState({visible: true});\n\n        const { id } = this.props;\n        window.history.pushState({[id]: true}, id, '#'+id);\n\n        document.addEventListener('ot-popstate', (e) => {\n            const { hash } = window.location;\n            console.log(\"State was popped yo!\", hash, hash.indexOf(id));\n            if(hash.indexOf(id) === -1 && this.state.visible){\n                if(this.contentWrapper && this.contentWrapper.current){\n                    this.contentWrapper.current.scrollTop = 0\n                }\n                this.setState({closing: true}, () => {\n                    this.closeBottomSheet();\n                });\n            }\n        }, false);\n    }\n\n    handleIntersection = (event) => {\n        console.log(\"Intersection Event\", event);\n        if(event.isIntersecting){\n            this.setState({fixed: true});\n        }else{\n            this.setState({fixed: false});\n        }\n    }\n\n    handleClose = () => {\n        window.history.back();\n    }\n    \n    closeBottomSheet = () => {\n        setTimeout(() => {\n            if(this.props.onClose) \n                this.props.onClose()\n        }, 350);\n    }\n\n    render() { \n        const options = {\n            onChange: this.handleIntersection,\n            root: '.ot-bottom-sheet',\n            rootMargin: `0% 0% -${window.innerHeight}px`,\n        };\n        const { visible, fixed, closing } = this.state;\n        let {contentLoaded, peekHeight} = this.props;\n        if(!peekHeight)\n            peekHeight = 300;\n\n        const tx = window.innerHeight - (peekHeight + 32);\n\n        return (\n            <div className={'ot-bottom-sheet ' + ( visible ? 'visible ' : '' ) + ( fixed ? 'fixed ' : '') + ( contentLoaded ? 'content-loaded ' : '' ) + ( closing ? 'closing' : '' ) }>\n                <div className=\"ot-bottom-sheet-bg\" onClick={ this.handleClose }></div>\n                <Observer {...options}>\n                    <div ref={this.contentWrapper} className=\"ot-bottom-sheet-content\"\n                        style={ { transform: `translateY( ${(tx)}px)` } }>\n                        <button className=\"ot-btn action back-btn\" onClick={ this.handleClose }>\n                            <svg viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>\n                        </button>\n\n                        { this.props.children }\n                    </div>\n                </Observer>\n            </div>\n        );\n    }\n}\n \nexport default BottomSheet;","import React from 'react';\n\nimport './mobile-nav.css';\n\nconst MobileNav = ( props ) => {\n    const { page, onNavigateTo } = props;\n\n    return ( \n        <div className={'ot-mobile-nav layout center around-justified'}>\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'home' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('home') }>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline></svg>\n                Home\n            </button>\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'woza' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('woza') }>\n                <svg viewBox=\"0 0 24 24\"><polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline></svg>\n                Woza\n            </button>\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'discover' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('discover') }>\n                <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line></svg>\n                Discover\n            </button>\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'ochat' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('ochat') }>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path></svg>\n                OChat\n            </button>\n\n            <button className={'ot-btn flat layout vertical center-center ' + ( page === 'apps' ? 'active' : '' )} \n                onClick={ () => onNavigateTo('apps') }>\n                <svg viewBox=\"0 0 24 24\"><rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect><rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect></svg>\n                Apps\n            </button>\n\n            {/*\n            <button className=\"ot-btn action\" onClick={ () => onNavigateTo('home') }>\n                <svg id=\"woza-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"#727A7E\" d=\"M12 20.664a9.163 9.163 0 0 1-6.521-2.702.977.977 0 0 1 1.381-1.381 7.269 7.269 0 0 0 10.024.244.977.977 0 0 1 1.313 1.445A9.192 9.192 0 0 1 12 20.664zm7.965-6.112a.977.977 0 0 1-.944-1.229 7.26 7.26 0 0 0-4.8-8.804.977.977 0 0 1 .594-1.86 9.212 9.212 0 0 1 6.092 11.169.976.976 0 0 1-.942.724zm-16.025-.39a.977.977 0 0 1-.953-.769 9.21 9.21 0 0 1 6.626-10.86.975.975 0 1 1 .52 1.882l-.015.004a7.259 7.259 0 0 0-5.223 8.558.978.978 0 0 1-.955 1.185z\"></path></svg>\n            </button>\n            */}\n        </div>\n    );\n}\n \nexport default MobileNav;","import React from 'react';\nimport './app.css';\n\nimport axios from \"axios\";\n\nimport Notifications, { notify, notification } from '../Notifications';\n\nimport Login from '../Login';\nimport Home from '../Home';\nimport Woza from '../Woza';\nimport Discover from '../Discover';\nimport Ochat from '../Ochat';\nimport OtherApps from '../OtherApps';\n\nimport UserProfile from '../UserProfile';\nimport BottomSheet from '../components/BottomSheet';\nimport MobileNav from './MobileNav';\n\n// const profileUser = {display_name: \"Daniel Kindimba\", id: 290, dp: \"https://olbongo.blob.core.windows.net/olbongo/stuff_images/2018/12/01/takescripter.jpg\"}\n// const profileUser = {\"status\":\"wacky\",\"display_name\":\"walter\",\"id\":10,\"dp\":\"https://olbongo.blob.core.windows.net/olbongo/CACHE/images/stuff_images/2017/04/28/20170416_121348_s8ddhse/444c59972c18921ada293c2c40bfe2a4.png\",\"token\":\"51w-fe20639ab5c964bb1c15:@olb:dXE=\"}\nclass App extends React.Component {\n    state = {page: 'home', user: {}, profileUser: null, userProfilePostsLoaded: false, user_fetched: false};\n\n    componentWillMount(){\n        this.fetchUser();\n    }\n\n    componentDidMount(){\n        this._isMounted = true;\n        this.setPage('home');\n\n        window.onpopstate = () => {\n            document.dispatchEvent(new CustomEvent('ot-popstate'));\n            console.log(\"State popped!\");\n\n            const { pathname } = window.location;\n            // const page = pathname.replace('/otalk/', '');\n            let page = pathname.substring(1); //strip out / at the start\n            page = page.substring(0, page.indexOf(\"#\")); //remove hash content\n\n            if(page !== this.state.page)\n                this.setPage(page, false);\n        }\n    }\n    \n    fetchUser = async () => {\n        const session_user = await localStorage.getItem('ot-user');\n        this.setState({user_fetched: true});\n\n        if(session_user != null){\n        this.setState({user: JSON.parse(session_user)});\n        }\n    }\n\n    handleProfilePostsLoaded = () => {\n        this.setState({userProfilePostsLoaded: true});\n    }\n\n    login = ({username, password}) => {\n        const params = {username, password}\n        axios({\n            method: 'POST',\n            url: \"https://www.olbongo.com/api/login/\",\n            params\n        })\n        .then( response => {\n            const result = response.data;\n\n            if(!result.status){    \n                notify( notification(\"Wrong credentials!\") )\n                return;\n            }\n\n            let { user, token } = result;\n            user.token = token;\n            localStorage.setItem('ot-user', JSON.stringify(user));\n            \n            this.setState({user});\n        })\n        .catch( err => {\n            console.error(\"Login Error\", err);\n            notify( notification(\"Wrong credentials!\") )\n        });\n    }\n\n    logout = () => {\n        localStorage.removeItem('ot-user');\n        this.setState({profileUser: null, user_fetched: true, user: null});\n    }\n\n    closeProfileUser = () => {\n        this.setState({profileUser: null});\n    }\n    \n    viewProfileUser = ( paramUser ) => {\n        const user = paramUser || this.state.user;\n        this.setState({profileUser: user});\n    }\n\n    setPage = ( page, updateUrl = true ) => {\n        this.setState({ page });\n        if(updateUrl)\n            window.history.pushState([page], page, '/' + page);\n            // window.history.pushState([page], page, '/otalk/' + page);\n    }\n  \n    render() { \n        const { page, user, user_fetched, profileUser, userProfilePostsLoaded } = this.state;\n        const user_logged_in = user && user.id && user.token;\n        return (\n            <div className=\"ot-app-wrapper\" context=\"counter1\">\n                <Notifications />\n                <main>\n                    { !user_logged_in && user_fetched && ( \n                        <Login user={user} onLogin={this.login} /> \n                    )}\n\n                    { user_logged_in && \n                        <React.Fragment>\n                            { page === 'home' && \n                                <Home\n                                    user={ user }\n                                    onViewProfile={ this.viewProfileUser }\n                                    onLogout={ this.logout }\n                                    onViewUser={this.viewProfileUser} />\n                            }\n\n                            { page === 'woza' && \n                                <Woza user={ user } />\n                            }\n                            \n                            { page === 'discover' && \n                                <Discover user={ user } />\n                            }\n                            \n                            { page === 'ochat' && \n                                <Ochat user={ user } />\n                            }\n                            \n                            { page === 'apps' && \n                                <OtherApps user={ user } />\n                            }\n                            \n                            { profileUser && \n                                <BottomSheet id=\"profileUser\" contentLoaded={userProfilePostsLoaded} peekHeight={320} onClose={this.closeProfileUser}>\n                                    <UserProfile onLogout={this.logout} onPostsLoaded={this.handleProfilePostsLoaded} sessionUser={ user } user={profileUser} />\n                                </BottomSheet>\n                            }\n\n                            <MobileNav page={page} onNavigateTo={ this.setPage } />\n                        </React.Fragment>\n                    }\n                </main>\n            </div>\n        );\n    }\n}\n\n// App.contextType = MyContext\n \nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/logo.43803f22.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.43803f22.png\";","module.exports = __webpack_public_path__ + \"static/media/findit.0298d394.png\";","module.exports = __webpack_public_path__ + \"static/media/oclass.ace66f85.png\";","module.exports = __webpack_public_path__ + \"static/media/odrive.fabc8887.png\";","module.exports = __webpack_public_path__ + \"static/media/ojob.9bac4042.png\";"],"sourceRoot":""}